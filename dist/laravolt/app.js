/*! For license information please see app.js.LICENSE.txt */
(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[260],{1875:(e,t,o)=>{var n,r=o(9755);(n=r).fn.basictable=function(e){var t=function(e,t){var r=[];if(t.tableWrap&&e.wrap('<div class="bt-wrapper"></div>'),t.header){var i="";i=e.find("thead tr th").length?"thead th":e.find("tbody tr th").length?"tbody tr th":e.find("th").length?"tr:first th":"tr:first td",n.each(e.find(i),(function(){var e=n(this),t=parseInt(e.attr("colspan"),10)||1,o=e.closest("tr").index();r[o]||(r[o]=[]);for(var i=0;i<t;i++)r[o].push(e)}))}n.each(e.find("tbody tr"),(function(){o(n(this),r,t)})),n.each(e.find("tfoot tr"),(function(){o(n(this),r,t)}))},o=function(e,t,o){e.children().each((function(){var e=n(this);if(""!==e.html()&&"&nbsp;"!==e.html()||o.showEmptyCells){for(var r=e.index(),i="",a=0;a<t.length;a++)0!=a&&(i+=": "),i+=t[a][r].text();e.attr("data-th",i),o.contentWrap&&!e.children().hasClass("bt-content")&&e.wrapInner('<span class="bt-content" />')}else e.addClass("bt-hide")}))},r=function(e,t){t.forceResponsive?null!==t.breakpoint&&n(window).width()<=t.breakpoint||null!==t.containerBreakpoint&&e.parent().width()<=t.containerBreakpoint?i(e,t):a(e,t):e.removeClass("bt").outerWidth()>e.parent().width()?i(e,t):a(e,t)},i=function(e,t){e.addClass("bt"),t.header||e.addClass("bt--no-header"),t.tableWrap&&e.parent(".bt-wrapper").addClass("active")},a=function(e,t){e.removeClass("bt bt--no-header"),t.tableWrap&&e.parent(".bt-wrapper").removeClass("active")},l=function(e,t){e.removeClass("bt bt--no-header"),e.find("td").removeAttr("data-th"),t.tableWrap&&e.unwrap(),t.contentWrap&&function(e){n.each(e.find("td"),(function(){var e=n(this),t=e.children(".bt-content").html();e.html(t)}))}(e),e.removeData("basictable")};this.each((function(){var o=n(this);if(0===o.length||o.data("basictable")){if(o.data("basictable")){var s=o.data("basictable");"destroy"===e?l(o,s):"restart"===e?(l(o,s),o.data("basictable",s),t(o,s),r(o,s)):"start"===e?i(o,s):"stop"===e?a(o,s):r(o,s)}return!1}var p=n.extend({},n.fn.basictable.defaults,e),d={breakpoint:p.breakpoint,containerBreakpoint:p.containerBreakpoint,contentWrap:p.contentWrap,forceResponsive:p.forceResponsive,noResize:p.noResize,tableWrap:p.tableWrap,showEmptyCells:p.showEmptyCells,header:p.header};null===d.breakpoint&&null===d.containerBreakpoint&&(d.breakpoint=568),o.data("basictable",d),t(o,o.data("basictable")),d.noResize||(r(o,o.data("basictable")),n(window).bind("resize.basictable",(function(){!function(e){e.data("basictable")&&r(e,e.data("basictable"))}(o)})))}))},n.fn.basictable.defaults={breakpoint:null,containerBreakpoint:null,contentWrap:!0,forceResponsive:!0,noResize:!1,tableWrap:!1,showEmptyCells:!1,header:!0}},2952:(__unused_webpack_module,__unused_webpack_exports,__webpack_require__)=>{var jQuery=__webpack_require__(9755);function _typeof(e){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(e)}(function($){"use strict";$.fn.fileuploader=function(q){return this.each((function(t,r){var s=$(r),p=null,o=null,l=null,sl=[],n=$.extend(!0,{},$.fn.fileuploader.defaults,q),f={init:function(){return s.closest(".fileuploader").length||s.wrap('<div class="fileuploader"></div>'),p=s.closest(".fileuploader"),f.set("attrOpts"),f.isSupported()?(!n.beforeRender||!$.isFunction(n.beforeRender)||!1!==n.beforeRender(p,s))&&(f.redesign(),n.files&&f.files.append(n.files),f.rendered=!0,n.afterRender&&$.isFunction(n.afterRender)&&n.afterRender(l,p,o,s),void(f.disabled||f.bindUnbindEvents(!0))):(n.onSupportError&&$.isFunction(n.onSupportError)&&n.onSupportError(p,s),!1)},bindUnbindEvents:function(e){e&&f.bindUnbindEvents(!1),s[e?"on":"off"](f._assets.getAllEvents(),f.onEvent),n.changeInput&&o!==s&&o[e?"on":"off"]("click",f.clickHandler),n.dragDrop&&n.dragDrop.container.length&&(n.dragDrop.container[e?"on":"off"]("drag dragstart dragend dragover dragenter dragleave drop",(function(e){e.preventDefault()})),n.dragDrop.container[e?"on":"off"]("drop",f.dragDrop.onDrop),n.dragDrop.container[e?"on":"off"]("dragover",f.dragDrop.onDragEnter),n.dragDrop.container[e?"on":"off"]("dragleave",f.dragDrop.onDragLeave)),f.isUploadMode()&&n.clipboardPaste&&$(window)[e?"on":"off"]("paste",f.clipboard.paste),n.sorter&&n.thumbnails&&n.thumbnails._selectors.sorter&&f.sorter[e?"init":"destroy"](),s.closest("form")[e?"on":"off"]("reset",f.reset)},redesign:function(){if(o=s,n.theme&&p.addClass("fileuploader-theme-"+n.theme),n.changeInput){switch((_typeof(n.changeInput)+"").toLowerCase()){case"boolean":o=$('<div class="fileuploader-input"><div class="fileuploader-input-caption"><span>'+f._assets.textParse(n.captions.feedback)+'</span></div><div class="fileuploader-input-button"><span>'+f._assets.textParse(n.captions.button)+"</span></div></div>");break;case"string":" "!=n.changeInput&&(o=$(f._assets.textParse(n.changeInput,n)));break;case"object":o=$(n.changeInput);break;case"function":o=$(n.changeInput(s,p,n,f._assets.textParse))}s.after(o),s.css({position:"absolute","z-index":"-9999",height:"1px",width:"1px",padding:"0",margin:"0","line-height":"0",outline:"0",border:"0",opacity:"0"})}n.thumbnails&&f.thumbnails.create(),n.dragDrop&&(n.dragDrop="object"!=_typeof(n.dragDrop)?{container:null}:n.dragDrop,n.dragDrop.container=n.dragDrop.container?$(n.dragDrop.container):o)},clickHandler:function(e){e.preventDefault(),f.clipboard._timer?f.clipboard.clean():s.click()},onEvent:function(e){switch(e.type){case"focus":p&&p.addClass("fileuploader-focused");break;case"blur":p&&p.removeClass("fileuploader-focused");break;case"change":f.onChange.call(this)}n.listeners&&$.isFunction(n.listeners[e.type])&&n.listeners[e.type].call(s,p)},set:function(e,t){switch(e){case"attrOpts":for(var r=["limit","maxSize","fileMaxSize","extensions","changeInput","theme","addMore","listInput","files"],i=0;i<r.length;i++){var a="data-fileuploader-"+r[i];if(f._assets.hasAttr(a))switch(r[i]){case"changeInput":case"addMore":case"listInput":n[r[i]]=["true","false"].indexOf(s.attr(a))>-1?"true"==s.attr(a):s.attr(a);break;case"extensions":n[r[i]]=s.attr(a).replace(/ /g,"").split(",");break;case"files":n[r[i]]=JSON.parse(s.attr(a));break;default:n[r[i]]=s.attr(a)}s.removeAttr(a)}null==s.attr("disabled")&&null==s.attr("readonly")&&0!==n.limit||(f.disabled=!0),(!n.limit||n.limit&&n.limit>=2)&&(s.attr("multiple","multiple"),n.inputNameBrackets&&"[]"!=s.attr("name").slice(-2)&&s.attr("name",s.attr("name")+"[]")),!0===n.listInput&&(n.listInput=$('<input type="hidden" name="fileuploader-list-'+s.attr("name").replace("[]","").split("[").pop().replace("]","")+'">').insertBefore(s)),"string"==typeof n.listInput&&0==$(n.listInput).length&&(n.listInput=$('<input type="hidden" name="'+n.listInput+'">').insertBefore(s)),f.set("disabled",f.disabled),!n.fileMaxSize&&n.maxSize&&(n.fileMaxSize=n.maxSize);break;case"disabled":f.disabled=t,p[f.disabled?"addClass":"removeClass"]("fileuploader-disabled"),s[f.disabled?"attr":"removeAttr"]("disabled","disabled"),f.rendered&&f.bindUnbindEvents(!t);break;case"feedback":t||(t=f._assets.textParse(f._itFl.length>0?n.captions.feedback2:n.captions.feedback,{length:f._itFl.length})),$(!o.is(":file"))&&o.find(".fileuploader-input-caption span").html(t);break;case"input":var l=f._assets.copyAllAttributes($('<input type="file">'),s,!0);f.bindUnbindEvents(!1),s.after(s=l).remove(),f.bindUnbindEvents(!0);break;case"prevInput":sl.length>0&&(f.bindUnbindEvents(!1),sl[t].remove(),sl.splice(t,1),s=sl[sl.length-1],f.bindUnbindEvents(!0));break;case"nextInput":l=f._assets.copyAllAttributes($('<input type="file">'),s);f.bindUnbindEvents(!1),sl.length>0&&0==sl[sl.length-1].get(0).files.length?s=sl[sl.length-1]:(-1==sl.indexOf(s)&&sl.push(s),sl.push(l),s.after(s=l)),f.bindUnbindEvents(!0);break;case"listInput":n.listInput&&n.listInput.val(f.files.list(!0,null,!1,t))}},onChange:function(e,t){var r=s.get(0).files;if(t){if(!t.length)return f.set("input",""),f.files.clear(),!1;r=t}if(f.clipboard._timer&&f.clipboard.clean(),!f.isDefaultMode()||(f.reset(),0!=r.length)){if(n.beforeSelect&&$.isFunction(n.beforeSelect)&&0==n.beforeSelect(r,l,p,o,s))return!1;for(var i=0,a=0;a<r.length;a++){var d=r[a],u=f._itFl[f.files.add(d,"choosed")],c=f.files.check(u,r,0==a);if(!0===c)n.thumbnails&&f.thumbnails.item(u),f.isUploadMode()&&f.upload.prepare(u),n.onSelect&&$.isFunction(n.onSelect)&&n.onSelect(u,l,p,o,s),i++;else if(f.files.remove(u,!0),c[2]||(f.isDefaultMode()&&(f.set("input",""),f.reset(),c[3]=!0),c[1]&&n.dialogs.alert(c[1],u,l,p,o,s)),c[3])break}f.isUploadMode()&&i>0&&f.set("input",""),f.set("feedback",null),f.isAddMoreMode()&&i>0&&f.set("nextInput"),f.set("listInput",null),n.afterSelect&&$.isFunction(n.afterSelect)&&n.afterSelect(l,p,o,s)}},thumbnails:{create:function(){null!=n.thumbnails.beforeShow&&$.isFunction(n.thumbnails.beforeShow)&&n.thumbnails.beforeShow(p,o,s);var e=$(f._assets.textParse(n.thumbnails.box)).appendTo(n.thumbnails.boxAppendTo?n.thumbnails.boxAppendTo:p);l=e.is(n.thumbnails._selectors.list)?e:e.find(n.thumbnails._selectors.list),n.thumbnails._selectors.popup_open&&l.on("click",n.thumbnails._selectors.popup_open,(function(e){e.preventDefault();var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&o.popup&&o.html.hasClass("file-has-popup")&&f.thumbnails.popup(o)})),f.isUploadMode()&&n.thumbnails._selectors.start&&l.on("click",n.thumbnails._selectors.start,(function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&f.upload.send(o,!0)})),f.isUploadMode()&&n.thumbnails._selectors.retry&&l.on("click",n.thumbnails._selectors.retry,(function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&f.upload.retry(o)})),n.thumbnails._selectors.rotate&&l.on("click",n.thumbnails._selectors.rotate,(function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t);o&&o.editor&&(o.editor.rotate(),o.editor.save())})),n.thumbnails._selectors.remove&&l.on("click",n.thumbnails._selectors.remove,(function(e){if(e.preventDefault(),f.locked)return!1;var t=$(this).closest(n.thumbnails._selectors.item),o=f.files.find(t),r=function(e){f.files.remove(o)};o&&(o.upload&&"successful"!=o.upload.status?f.upload.cancel(o):n.thumbnails.removeConfirmation?n.dialogs.confirm(f._assets.textParse(n.captions.removeConfirmation,o),r):r())}))},clear:function(){l&&l.html("")},item:function(e,t){e.icon=f.thumbnails.generateFileIcon(e.format,e.extension),e.image='<div class="fileuploader-item-image"></div>',e.progressBar=f.isUploadMode()?'<div class="fileuploader-progressbar"><div class="bar"></div></div>':"",e.html=$(f._assets.textParse(e.appended&&n.thumbnails.item2?n.thumbnails.item2:n.thumbnails.item,e)),e.progressBar=e.html.find(".fileuploader-progressbar"),e.html.addClass("file-type-"+(e.format?e.format:"no")+" file-ext-"+(e.extension?e.extension:"no")),t?t.replaceWith(e.html):e.html[n.thumbnails.itemPrepend?"prependTo":"appendTo"](l),n.thumbnails.popup&&(e.popup={open:function(){f.thumbnails.popup(e)}}),f.thumbnails.renderThumbnail(e),e.renderThumbnail=function(t){t&&e.popup&&e.popup.close&&(e.popup.close(),e.popup={open:e.popup.open}),f.thumbnails.renderThumbnail(e,!0,t)},null!=n.thumbnails.onItemShow&&$.isFunction(n.thumbnails.onItemShow)&&n.thumbnails.onItemShow(e,l,p,o,s)},generateFileIcon:function(e,t){var o='<div style="${style}" class="fileuploader-item-icon${class}"><i>'+(t||"")+"</i></div>",n=f._assets.textToColor(t);n&&(f._assets.isBrightColor(n)&&(o=o.replace("${class}"," is-bright-color")),o=o.replace("${style}","background-color: "+n));return o.replace("${style}","").replace("${class}","")},renderThumbnail:function(e,t,r){var i=e.html.find(".fileuploader-item-image"),a=e.data&&e.data.readerSkip,d=function(t){var r=$(t);i.removeClass("fileuploader-no-thumbnail fileuploader-loading").html(r),e.popup&&e.html.addClass("file-has-popup"),r.is("img")&&r.attr("draggable","false").on("load error",(function(t){"error"==t.type&&u(!0),c(),null!=n.thumbnails.onImageLoaded&&$.isFunction(n.thumbnails.onImageLoaded)&&n.thumbnails.onImageLoaded(e,l,p,o,s)})),r.is("canvas")&&null!=n.thumbnails.onImageLoaded&&$.isFunction(n.thumbnails.onImageLoaded)&&n.thumbnails.onImageLoaded(e,l,p,o,s)},u=function(t){i.addClass("fileuploader-no-thumbnail"),i.removeClass("fileuploader-loading").html(e.icon),e.popup&&e.html.addClass("file-has-popup"),t&&null!=n.thumbnails.onImageLoaded&&$.isFunction(n.thumbnails.onImageLoaded)&&n.thumbnails.onImageLoaded(e,l,p,o,s)},c=function(){var t=0;if(e&&f._pfrL.indexOf(e)>-1)for(f._pfrL.splice(f._pfrL.indexOf(e),1);t<f._pfrL.length;){if(f._itFl.indexOf(f._pfrL[t])>-1){setTimeout((function(){f.thumbnails.renderThumbnail(f._pfrL[t],!0)}),"image"==e.format&&e.size/1e6>1.8?200:0);break}f._pfrL.splice(t,1),t++}};if(i.length){if(e.image=i.html("").addClass("fileuploader-loading"),(["image","video","audio","astext"].indexOf(e.format)>-1||e.data.thumbnail)&&f.isFileReaderSupported()&&!a&&(e.appended||n.thumbnails.startImageRenderer||t)){if(e.html.removeClass("file-has-popup"),n.thumbnails.synchronImages&&(-1==f._pfrL.indexOf(e)&&!t&&f._pfrL.push(e),f._pfrL.length>1&&!t))return;var h=function(t,o){var r=t.nodeName&&"img"==t.nodeName.toLocaleLowerCase(),a=r?t.src:t;if(n.thumbnails.canvasImage){var l=document.createElement("canvas"),s=r?t:new Image,p=function(){f.editor.resize(this,l,n.thumbnails.canvasImage.width?n.thumbnails.canvasImage.width:i.width(),n.thumbnails.canvasImage.height?n.thumbnails.canvasImage.height:i.height(),!1,!0),f._assets.isBlankCanvas(l)?u():d(l),c()},h=function(e){u(!0),c(),s=null};if("image"==e.format&&o&&e.reader.node)return p.call(e.reader.node);if(!a)return h();if(r)return p.call(t);s.onload=p,s.onerror=h,e.data&&e.data.readerCrossOrigin&&s.setAttribute("crossOrigin",e.data.readerCrossOrigin),s.src=a}else d(r?t:'<img src="'+a+'">')};return"string"==typeof r||"object"==_typeof(r)?h(r):f.files.read(e,(function(){e.reader.node&&(e.reader.frame||"img"==e.reader.node.nodeName.toLowerCase())?h(e.reader.frame||e.reader.src,!0):(u("image"==e.format),c())}),null,r,!0)}u()}else c()},popup:function(e,t){if(!f.locked&&n.thumbnails.popup&&n.thumbnails._selectors.popup){var r=$(n.thumbnails.popup.container),i=r.find(".fileuploader-popup"),a=function(){var a=e.popup.html||$(f._assets.textParse(n.thumbnails.popup.template,e)),d=e.popup.html!==a,u=function(t){var o=t.which||t.keyCode;27==o&&e.popup&&e.popup.close&&e.popup.close(),37!=o&&39!=o||!n.thumbnails.popup.arrows||e.popup.move(37==o?"prev":"next")};i.removeClass("loading"),i.children(n.thumbnails._selectors.popup).length&&($.each(f._itFl,(function(o,n){n!=e&&n.popup&&n.popup.close&&n.popup.close(t)})),i.find(n.thumbnails._selectors.popup).remove()),a.show().appendTo(i),e.popup.html=a,e.popup.move=function(t){var o=f._itFl.indexOf(e),r=null,i=!1;if("prev"==(t=n.thumbnails.itemPrepend?"prev"==t?"next":"prev":t))for(var a=o;a>=0;a--){if((l=f._itFl[a])!=e&&l.popup&&l.html.hasClass("file-has-popup")){r=l;break}0!=a||r||i||!n.thumbnails.popup.loop||(a=f._itFl.length,i=!0)}else for(a=o;a<f._itFl.length;a++){var l;if((l=f._itFl[a])!=e&&l.popup&&l.html.hasClass("file-has-popup")){r=l;break}a+1!=f._itFl.length||r||i||!n.thumbnails.popup.loop||(a=-1,i=!0)}r&&f.thumbnails.popup(r,!0)},e.popup.close=function(t){e.reader.node&&e.reader.node.pause&&e.reader.node.pause(),$(window).off("keyup",u),r.css({overflow:"",width:""}),e.popup.editor&&e.popup.editor.cropper&&e.popup.editor.cropper.hide(),e.popup.zoomer&&e.popup.zoomer.hide(),e.popup.html&&n.thumbnails.popup.onHide&&$.isFunction(n.thumbnails.popup.onHide)?n.thumbnails.popup.onHide(e,l,p,o,s):e.popup.html&&e.popup.html.remove(),t||i.fadeOut(400,(function(){i.remove()})),delete e.popup.close},e.reader.node?(d&&a.html(a.html().replace(/\$\{reader\.node\}/,'<div class="reader-node"></div>')).find(".reader-node").html(e.reader.node),e.reader.node.controls=!0,e.reader.node.currentTime=0,e.reader.node.play&&e.reader.node.play()):d&&a.find(".fileuploader-popup-node").html('<div class="reader-node"><div class="fileuploader-popup-file-icon">'+e.icon+"</div></div>"),$(window).on("keyup",u),r.css({overflow:"hidden",width:r.innerWidth()}),e.popup.html.find('[data-action="prev"], [data-action="next"]').removeAttr("style"),e.popup.html[1!=f._itFl.length&&n.thumbnails.popup.arrows?"addClass":"removeClass"]("fileuploader-popup-has-arrows"),n.thumbnails.popup.loop||(0==f._itFl.indexOf(e)&&e.popup.html.find('[data-action="prev"]').hide(),f._itFl.indexOf(e)==f._itFl.length-1&&e.popup.html.find('[data-action="next"]').hide()),f.editor.zoom(e),e.editor&&(e.popup.editor||(e.popup.editor={}),f.editor.rotate(e,e.popup.editor.rotation||e.editor.rotation||0,!0),e.popup.editor&&e.popup.editor.cropper&&(e.popup.editor.cropper.hide(!0),setTimeout((function(){f.editor.crop(e,e.editor.crop?$.extend({},e.editor.crop):e.popup.editor.cropper.setDefaultData())}),100))),e.popup.html.on("click",'[data-action="prev"]',(function(t){e.popup.move("prev")})).on("click",'[data-action="next"]',(function(t){e.popup.move("next")})).on("click",'[data-action="crop"]',(function(t){e.editor&&e.editor.cropper()})).on("click",'[data-action="rotate-cw"]',(function(t){e.editor&&e.editor.rotate()})).on("click",'[data-action="zoom-in"]',(function(t){e.popup.zoomer&&e.popup.zoomer.zoomIn()})).on("click",'[data-action="zoom-out"]',(function(t){e.popup.zoomer&&e.popup.zoomer.zoomOut()})),n.thumbnails.popup.onShow&&$.isFunction(n.thumbnails.popup.onShow)&&n.thumbnails.popup.onShow(e,l,p,o,s)};0==i.length&&(i=$('<div class="fileuploader-popup"></div>').appendTo(r)),i.fadeIn(400).addClass("loading"),["image/","video/","audio/","application/pdf","astext"].indexOf(e.type)>-1&&!e.popup.html?f.files.read(e,a):a()}}},editor:{rotate:function(e,t,o){if(!(e.popup&&e.popup.html&&$("html").find(e.popup.html).length)){var n=e.editor.rotation||0,r=t||n+90;return r>=360&&(r=0),e.popup.editor&&(e.popup.editor.rotation=r),e.editor.rotation=r}if(e.reader.node){if(e.popup.editor.isAnimating)return;e.popup.editor.isAnimating=!0;var i=e.popup.html.find(".fileuploader-popup-node").find(".reader-node"),a=i.find("> img"),l={rotation:n=e.popup.editor.rotation||0,scale:e.popup.editor.scale||1};e.popup.editor.cropper&&e.popup.editor.cropper.$template.hide(),e.popup.editor.rotation=o?t:n+90,e.popup.editor.scale=(i.height()/a[[90,270].indexOf(e.popup.editor.rotation)>-1?"width":"height"]()).toFixed(3),a.height()*e.popup.editor.scale>i.width()&&[90,270].indexOf(e.popup.editor.rotation)>-1&&(e.popup.editor.scale=i.height()/a.width()),e.popup.editor.scale>1&&(e.popup.editor.scale=1),$(l).stop().animate({rotation:e.popup.editor.rotation,scale:e.popup.editor.scale},{duration:o?2:300,easing:"swing",step:function(e,t){var o=a.css("-webkit-transform")||a.css("-moz-transform")||a.css("transform")||"none",n=0,r=1,i=t.prop;if("none"!==o){var l=o.split("(")[1].split(")")[0].split(","),s=l[0],p=l[1];n="rotation"==i?e:Math.round(Math.atan2(p,s)*(180/Math.PI)),r="scale"==i?e:Math.round(10*Math.sqrt(s*s+p*p))/10}a.css({"-webkit-transform":"rotate("+n+"deg) scale("+r+")","-moz-transform":"rotate("+n+"deg) scale("+r+")",transform:"rotate("+n+"deg) scale("+r+")"})},always:function(){delete e.popup.editor.isAnimating,e.popup.editor.cropper&&!o&&(e.popup.editor.cropper.setDefaultData(),e.popup.editor.cropper.init("rotation"))}}),e.popup.editor.rotation>=360&&(e.popup.editor.rotation=0),e.popup.editor.rotation!=e.editor.rotation&&(e.popup.editor.hasChanges=!0)}},crop:function(e,t){if(!(e.popup&&e.popup.html&&$("html").find(e.popup.html).length))return e.editor.crop=t||e.editor.crop;if(e.reader.node)if(e.popup.editor.cropper)t&&(e.popup.editor.cropper.crop=t),e.popup.editor.cropper.init(t);else{var o=e.popup.html.find(".fileuploader-popup-node .reader-node > img"),r=$('<div class="fileuploader-cropper"><div class="fileuploader-cropper-area"><div class="point point-a"></div><div class="point point-b"></div><div class="point point-c"></div><div class="point point-d"></div><div class="point point-e"></div><div class="point point-f"></div><div class="point point-g"></div><div class="point point-h"></div><div class="area-move"></div><div class="area-image"></div><div class="area-info"></div></div></div>'),i=r.find(".fileuploader-cropper-area");e.popup.editor.cropper={$imageEl:o,$template:r,$editor:i,isCropping:!1,crop:t||null,init:function(t){var o=e.popup.editor.cropper,i=o.$imageEl.position(),a=o.$imageEl[0].getBoundingClientRect().width,l=o.$imageEl[0].getBoundingClientRect().height,s=e.popup.editor.rotation&&[90,270].indexOf(e.popup.editor.rotation)>-1?e.popup.editor.scale:1;if(o.hide(),o.crop||o.setDefaultData(),0==a||0==l)return o.hide(!0);o.isCropping||(o.$imageEl.clone().appendTo(o.$template.find(".area-image")),o.$imageEl.parent().append(r)),o.$template.hide().css({left:i.left,top:i.top,width:a,height:l}).fadeIn(150),o.$editor.hide(),clearTimeout(o._editorAnimationTimeout),o._editorAnimationTimeout=setTimeout((function(){if(delete o._editorAnimationTimeout,o.$editor.fadeIn(250),e.editor.crop&&$.isPlainObject(t)&&(o.resize(),o.crop.left=o.crop.left*o.crop.cfWidth*s,o.crop.width=o.crop.width*o.crop.cfWidth*s,o.crop.top=o.crop.top*o.crop.cfHeight*s,o.crop.height=o.crop.height*o.crop.cfHeight*s),n.editor.cropper&&(n.editor.cropper.maxWidth||n.editor.cropper.maxHeight)&&(n.editor.cropper.maxWidth&&(o.crop.width=Math.min(n.editor.cropper.maxWidth*o.crop.cfWidth,o.crop.width)),n.editor.cropper.maxHeight&&(o.crop.height=Math.min(n.editor.cropper.maxHeight*o.crop.cfHeight,o.crop.height)),e.editor.crop&&"rotation"!=t||"resize"==t||(o.crop.left=(o.$template.width()-o.crop.width)/2,o.crop.top=(o.$template.height()-o.crop.height)/2)),(!e.editor.crop||"rotation"==t)&&n.editor.cropper&&n.editor.cropper.ratio&&"resize"!=t){var r=n.editor.cropper.ratio,i=f._assets.ratioToPx(o.crop.width,o.crop.height,r);i&&(o.crop.width=Math.min(o.crop.width,i[0]),o.crop.left=(o.$template.width()-o.crop.width)/2,o.crop.height=Math.min(o.crop.height,i[1]),o.crop.top=(o.$template.height()-o.crop.height)/2)}o.drawPlaceHolder(o.crop)}),400),n.editor.cropper&&n.editor.cropper.showGrid&&o.$editor.addClass("has-grid"),o.$imageEl.attr("draggable","false"),o.$template.on("mousedown touchstart",o.mousedown),$(window).on("resize",o.resize),o.isCropping=!0,e.popup.editor.hasChanges=!0},setDefaultData:function(){var t=e.popup.editor.cropper,o=t.$imageEl,n=o.width(),r=o.height(),i=e.popup.editor.rotation&&[90,270].indexOf(e.popup.editor.rotation)>-1,a=e.popup.editor.scale||1;return t.crop={left:0,top:0,width:i?r*a:n,height:i?n*a:r,cfWidth:n/e.reader.width,cfHeight:r/e.reader.height},null},hide:function(t){var o=e.popup.editor.cropper;t&&(o.$template.hide(),o.$editor.hide()),o.$imageEl.attr("draggable",""),o.$template.off("mousedown touchstart",o.mousedown),$(window).off("resize",o.resize)},resize:function(t){var o=e.popup.editor.cropper,n=o.$imageEl;n.width()>0&&(t?(o.$template.hide(),clearTimeout(o._resizeTimeout),o._resizeTimeout=setTimeout((function(){delete o._resizeTimeout;var t=n.width()/e.reader.width,r=n.height()/e.reader.height;o.crop.left=o.crop.left/o.crop.cfWidth*t,o.crop.width=o.crop.width/o.crop.cfWidth*t,o.crop.top=o.crop.top/o.crop.cfHeight*r,o.crop.height=o.crop.height/o.crop.cfHeight*r,o.crop.cfWidth=t,o.crop.cfHeight=r,o.init("resize")}),500)):(o.crop.cfWidth=n.width()/e.reader.width,o.crop.cfHeight=n.height()/e.reader.height))},drawPlaceHolder:function(t){var o=e.popup.editor.cropper,n=e.popup.editor.rotation||0,r=e.popup.editor.scale||1,i=[0,0];t&&(t=$.extend({},t),n&&(i=[180==n||270==n?-100:0,90==n||180==n?-100:0]),o.$editor.css(t),o.setAreaInfo(),o.$editor.find(".area-image img").removeAttr("style").css({width:o.$imageEl.width(),height:o.$imageEl.height(),left:-1*o.$editor.position().left,top:-1*o.$editor.position().top,"-webkit-transform":"rotate("+n+"deg) scale("+r+") translateX("+i[0]+"%) translateY("+i[1]+"%)","-moz-transform":"rotate("+n+"deg) scale("+r+") translateX("+i[0]+"%) translateY("+i[1]+"%)",transform:"rotate("+n+"deg) scale("+r+") translateX("+i[0]+"%) translateY("+i[1]+"%)"}))},setAreaInfo:function(t){var o=e.popup.editor.cropper,n=e.popup.editor.scale||1;o.$editor.find(".area-info").html((o.isResizing||"size"==t?["W: "+Math.round(o.crop.width/o.crop.cfWidth/n)+"px"," ","H: "+Math.round(o.crop.height/o.crop.cfHeight/n)+"px"]:["X: "+Math.round(o.crop.left/o.crop.cfWidth/n)+"px"," ","Y: "+Math.round(o.crop.top/o.crop.cfHeight/n)+"px"]).join(""))},mousedown:function(t){var o=t.originalEvent.touches&&t.originalEvent.touches[0]?"touchstart":"mousedown",r=$(t.target),i=e.popup.editor.cropper,a={x:("mousedown"==o?t.pageX:t.originalEvent.touches[0].pageX)-i.$template.offset().left,y:("mousedown"==o?t.pageY:t.originalEvent.touches[0].pageY)-i.$template.offset().top},l=function(){i.pointData={el:r,x:a.x,y:a.y,xEditor:a.x-i.crop.left,yEditor:a.y-i.crop.top,left:i.crop.left,top:i.crop.top,width:i.crop.width,height:i.crop.height},(i.isMoving||i.isResizing)&&(i.setAreaInfo("size"),i.$editor.addClass("moving"),$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),$(document).on("mousemove touchmove",i.mousemove))};e.popup.zoomer&&e.popup.zoomer.hasSpacePressed||(i.isMoving=r.is(".area-move"),i.isResizing=r.is(".point"),"mousedown"==o&&l(),"touchstart"==o&&1==t.originalEvent.touches.length&&((i.isMoving||i.isResizing)&&t.preventDefault(),i.isTouchLongPress=!0,setTimeout((function(){i.isTouchLongPress&&(delete i.isTouchLongPress,l())}),n.thumbnails.touchDelay?n.thumbnails.touchDelay:0)),$(document).on("mouseup touchend",i.mouseup))},mousemove:function(t){var o=t.originalEvent.touches&&t.originalEvent.touches[0]?"touchstart":"mousedown",r=($(t.target),e.popup.editor.cropper),i={x:("mousedown"==o?t.pageX:t.originalEvent.touches[0].pageX)-r.$template.offset().left,y:("mousedown"==o?t.pageY:t.originalEvent.touches[0].pageY)-r.$template.offset().top};if(t.originalEvent.touches&&1!=t.originalEvent.touches.length)return r.mouseup(t);if(r.isMoving){var a=i.x-r.pointData.xEditor,l=i.y-r.pointData.yEditor;a+r.crop.width>r.$template.width()&&(a=r.$template.width()-r.crop.width),a<0&&(a=0),l+r.crop.height>r.$template.height()&&(l=r.$template.height()-r.crop.height),l<0&&(l=0),r.crop.left=a,r.crop.top=l}if(r.isResizing){var s,p=r.pointData.el.attr("class").substr("point point-".length),d=r.crop.left+r.crop.width,u=r.crop.top+r.crop.height,c=(n.editor.cropper&&n.editor.cropper.minWidth||0)*r.crop.cfWidth,h=(n.editor.cropper&&n.editor.cropper.minHeight||0)*r.crop.cfHeight,m=(n.editor.cropper&&n.editor.cropper.maxWidth)*r.crop.cfWidth,g=(n.editor.cropper&&n.editor.cropper.maxHeight)*r.crop.cfHeight,v=n.editor.cropper?n.editor.cropper.ratio:null;if(c>r.$template.width()&&(c=r.$template.width()),h>r.$template.height()&&(h=r.$template.height()),m>r.$template.width()&&(m=r.$template.width()),g>r.$template.height()&&(g=r.$template.height()),("a"==p||"b"==p||"c"==p)&&!s&&(r.crop.top=i.y,r.crop.top<0&&(r.crop.top=0),r.crop.height=u-r.crop.top,r.crop.top>r.crop.top+r.crop.height&&(r.crop.top=u,r.crop.height=0),r.crop.height<h&&(r.crop.top=u-h,r.crop.height=h),r.crop.height>g&&(r.crop.top=u-g,r.crop.height=g),(s=v?f._assets.ratioToPx(r.crop.width,r.crop.height,v):null)&&(r.crop.width=s[0],"a"!=p&&"b"!=p||(r.crop.left=Math.max(0,r.pointData.left+(r.pointData.width-r.crop.width)/("b"==p?2:1))),r.crop.left+r.crop.width>r.$template.width()))){var b=r.$template.width()-r.crop.left;r.crop.width=b,r.crop.height=b/s[2]*s[3],r.crop.top=u-r.crop.height}if(("e"==p||"f"==p||"g"==p)&&!s&&(r.crop.height=i.y-r.crop.top,r.crop.height+r.crop.top>r.$template.height()&&(r.crop.height=r.$template.height()-r.crop.top),r.crop.height<h&&(r.crop.height=h),r.crop.height>g&&(r.crop.height=g),(s=v?f._assets.ratioToPx(r.crop.width,r.crop.height,v):null)&&(r.crop.width=s[0],"f"!=p&&"g"!=p||(r.crop.left=Math.max(0,r.pointData.left+(r.pointData.width-r.crop.width)/("f"==p?2:1))),r.crop.left+r.crop.width>r.$template.width()))){b=r.$template.width()-r.crop.left;r.crop.width=b,r.crop.height=b/s[2]*s[3]}if(("c"==p||"d"==p||"e"==p)&&!s&&(r.crop.width=i.x-r.crop.left,r.crop.width+r.crop.left>r.$template.width()&&(r.crop.width=r.$template.width()-r.crop.left),r.crop.width<c&&(r.crop.width=c),r.crop.width>m&&(r.crop.width=m),(s=v?f._assets.ratioToPx(r.crop.width,r.crop.height,v):null)&&(r.crop.height=s[1],"c"!=p&&"d"!=p||(r.crop.top=Math.max(0,r.pointData.top+(r.pointData.height-r.crop.height)/("d"==p?2:1))),r.crop.top+r.crop.height>r.$template.height()))){var w=r.$template.height()-r.crop.top;r.crop.height=w,r.crop.width=w/s[3]*s[2]}if(("a"==p||"g"==p||"h"==p)&&!s&&(r.crop.left=i.x,r.crop.left>r.$template.width()&&(r.crop.left=r.$template.width()),r.crop.left<0&&(r.crop.left=0),r.crop.width=d-r.crop.left,r.crop.left>r.crop.left+r.crop.width&&(r.crop.left=d,r.crop.width=0),r.crop.width<c&&(r.crop.left=d-c,r.crop.width=c),r.crop.width>m&&(r.crop.left=d-m,r.crop.width=m),(s=v?f._assets.ratioToPx(r.crop.width,r.crop.height,v):null)&&(r.crop.height=s[1],"a"!=p&&"h"!=p||(r.crop.top=Math.max(0,r.pointData.top+(r.pointData.height-r.crop.height)/("h"==p?2:1))),r.crop.top+r.crop.height>r.$template.height()))){w=r.$template.height()-r.crop.top;r.crop.height=w,r.crop.width=w/s[3]*s[2],r.crop.left=d-r.crop.width}}r.drawPlaceHolder(r.crop)},mouseup:function(t){var o=e.popup.editor.cropper;0!=o.$editor.width()&&0!=o.$editor.height()||o.init(o.setDefaultData()),delete o.isTouchLongPress,delete o.isMoving,delete o.isResizing,o.$editor.removeClass("moving show-info"),$("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""}),$(document).off("mousemove touchmove",o.mousemove),$(document).off("mouseup touchend",o.mouseup)}},e.popup.editor.cropper.init()}},resize:function(e,t,o,n,r,i){var a=t.getContext("2d"),l=(o=!o&&n?n*e.width/e.height:o,n=!n&&o?o*e.height/e.width:n,e.width/e.height),s=l>=1?o:n*l,p=l<1?n:o/l;i&&s<o&&(p*=o/s,s=o),i&&p<n&&(s*=n/p,p=n);var d=Math.min(Math.ceil(Math.log(e.width/s)/Math.log(2)),12);if(t.width=s,t.height=p,e.width<t.width||e.height<t.height||d<2){i||(t.width=Math.min(e.width,t.width),t.height=Math.min(e.height,t.height));var u=e.width<t.width?(t.width-e.width)/2:0,c=e.height<t.height?(t.height-e.height)/2:0;r||(a.fillStyle="#fff",a.fillRect(0,0,t.width,t.height)),a.drawImage(e,u,c,Math.min(e.width,t.width),Math.min(e.height,t.height))}else{var f=document.createElement("canvas"),h=f.getContext("2d"),m=2;for(f.width=e.width/m,f.height=e.height/m,h.fillStyle="#fff",h.fillRect(0,0,f.width,f.height),h.drawImage(e,0,0,f.width,f.height);d>2;){var g=m+2,v=e.width/m,b=e.height/m;v>f.width&&(v=f.width),b>f.height&&(b=f.height),h.drawImage(f,0,0,v,b,0,0,e.width/g,e.height/g),m=g,d--}v=e.width/m,b=e.height/m;v>f.width&&(v=f.width),b>f.height&&(b=f.height),a.drawImage(f,0,0,v,b,0,0,s,p),f=h=null}a=null},zoom:function(e){if(e.popup&&e.popup.html&&$("html").find(e.popup.html).length){if(!e.popup.zoomer){var t=e.popup.html,o=t.find(".fileuploader-popup-node"),r=o.find(".reader-node"),i=r.find("> img").attr("draggable","false").attr("ondragstart","return false;");e.popup.zoomer={html:t.find(".fileuploader-popup-zoomer"),isActive:"image"==e.format&&e.reader.node&&n.thumbnails.popup.zoomer,scale:100,zoom:100,init:function(){var e=this;if(!e.isActive||f._assets.isIE()||f._assets.isMobile())return e.html.hide()&&r.addClass("has-node-centered");e.hide(),e.resize(),$(window).on("resize",e.resize),$(window).on("keyup keydown",e.keyPress),e.html.find("input").on("input change",e.range),r.on("mousedown touchstart",e.mousedown),o.on("mousewheel DOMMouseScroll",e.scroll)},hide:function(){var e=this;$(window).off("resize",e.resize),$(window).off("keyup keydown",e.keyPress),e.html.find("input").off("input change",e.range),r.off("mousedown",e.mousedown),o.off("mousewheel DOMMouseScroll",e.scroll)},center:function(e){var t=this,n=0,i=0;e?(n=t.left,i=t.top,n-=(o.width()/2-t.left)*(r.width()/e[0]-1),i-=(o.height()/2-t.top)*(r.height()/e[1]-1),r.width()<=o.width()&&(n=Math.round((o.width()-r.width())/2)),r.height()<=o.height()&&(i=Math.round((o.height()-r.height())/2)),r.width()>o.width()&&(n>0?n=0:n+r.width()<o.width()&&(n=o.width()-r.width())),r.height()>o.height()&&(i>0?i=0:i+r.height()<o.height()&&(i=o.height()-r.height())),i=Math.min(i,0)):(n=Math.round((o.width()-r.width())/2),i=Math.round((o.height()-r.height())/2)),r.css({left:(t.left=n)+"px",top:(t.top=i)+"px"})},resize:function(){var t=e.popup.zoomer;r.removeAttr("style"),t.scale=t.getImageScale(),t.updateView()},range:function(t){var o=e.popup.zoomer,n=$(this),r=parseFloat(n.val());if(o.scale>=100)return t.preventDefault(),void n.val(o.scale);r<o.scale&&(t.preventDefault(),r=o.scale,n.val(r)),o.updateView(r,!0)},scroll:function(t){var o=e.popup.zoomer,n=-100;t.originalEvent&&(t.originalEvent.wheelDelta&&(n=t.originalEvent.wheelDelta/-40),t.originalEvent.deltaY&&(n=t.originalEvent.deltaY),t.originalEvent.detail&&(n=t.originalEvent.detail)),o[n<0?"zoomIn":"zoomOut"](3)},keyPress:function(t){var o=e.popup.zoomer,n=t.type;32==(t.keyCode||t.which)&&(o.hasSpacePressed="keydown"==n,o.hasSpacePressed&&o.isZoomed()?r.addClass("is-amoving"):r.removeClass("is-amoving"))},mousedown:function(t){var o=e.popup.zoomer,a=$(t.target),l=t.originalEvent.touches&&t.originalEvent.touches[0]?"touchstart":"mousedown",s={x:"mousedown"==l?t.pageX:t.originalEvent.touches[0].pageX,y:"mousedown"==l?t.pageY:t.originalEvent.touches[0].pageY},p=function(){o.pointData={x:s.x,y:s.y,xTarget:s.x-o.left,yTarget:s.y-o.top},$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),r.addClass("is-moving"),$(document).on("mousemove",o.mousemove)};1==t.which&&100!=o.scale&&o.zoom!=o.scale&&(o.hasSpacePressed||a[0]==i[0]||a.is(".fileuploader-cropper"))&&("mousedown"==l&&p(),"touchstart"==l&&(o.isTouchLongPress=!0,setTimeout((function(){o.isTouchLongPress&&(delete o.isTouchLongPress,p())}),n.thumbnails.touchDelay?n.thumbnails.touchDelay:0)),$(document).on("mouseup touchend",o.mouseup))},mousemove:function(t){var n=e.popup.zoomer,i=t.originalEvent.touches&&t.originalEvent.touches[0]?"touchstart":"mousedown",a="mousedown"==i?t.pageX:t.originalEvent.touches[0].pageX,l="mousedown"==i?t.pageY:t.originalEvent.touches[0].pageY,s=a-n.pointData.xTarget,p=l-n.pointData.yTarget;p>0&&(p=0),p<o.height()-r.height()&&(p=o.height()-r.height()),r.height()<o.height()&&(p=o.height()/2-r.height()/2),r.width()>o.width()?(s>0&&(s=0),s<o.width()-r.width()&&(s=o.width()-r.width())):s=o.width()/2-r.width()/2,r.css({left:(n.left=s)+"px",top:(n.top=p)+"px"})},mouseup:function(t){var o=e.popup.zoomer;delete o.pointData,$("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""}),r.removeClass("is-moving"),$(document).off("mousemove",o.mousemove),$(document).off("mouseup",o.mouseup)},zoomIn:function(t){var o=e.popup.zoomer,n=t||20;o.zoom>=100||(o.zoom=Math.min(100,o.zoom+n),o.updateView(o.zoom))},zoomOut:function(t){var o=e.popup.zoomer,n=t||20;o.zoom<=o.scale||(o.zoom=Math.max(o.scale,o.zoom-n),o.updateView(o.zoom))},updateView:function(t,o){var n=this,i=n.getImageSize().width/100*t,a=n.getImageSize().height/100*t,l=r.width(),s=r.height(),p=t&&t!=n.scale;if(!n.isActive)return n.center();p?r.addClass("is-movable").css({width:i+"px",height:a+"px",maxWidth:"none",maxHeight:"none"}):r.removeClass("is-movable is-amoving").removeAttr("style"),n.zoom=t||n.scale,n.center(p?[l,s,n.left,n.top]:null),n.html.find("span").html(n.zoom+"%"),o||n.html.find("input").val(n.zoom),t&&e.popup.editor&&e.popup.editor.cropper&&e.popup.editor.cropper.resize(!0)},isZoomed:function(){return this.zoom>this.scale},getImageSize:function(){return{width:i.prop("naturalWidth"),height:i.prop("naturalHeight")}},getImageScale:function(){return Math.round(100/(i.prop("naturalWidth")/i.width()))}}}e.popup.zoomer.init()}},save:function(e,t,r,i,a){var d=e.popup&&e.popup.html&&$("html").find(e.popup.html).length,u=new Image,c=function(){if(e.reader.node){var d=document.createElement("canvas"),u=d.getContext("2d"),c=[0,180];if(d.width=e.reader.width,d.height=e.reader.height,u.drawImage(this,0,0,e.reader.width,e.reader.height),void 0!==e.editor.rotation){e.editor.rotation=e.editor.rotation||0,d.width=c.indexOf(e.editor.rotation)>-1?e.reader.width:e.reader.height,d.height=c.indexOf(e.editor.rotation)>-1?e.reader.height:e.reader.width;var h=e.editor.rotation*Math.PI/180,m=.5*d.width,g=.5*d.height;u.clearRect(0,0,d.width,d.height),u.translate(m,g),u.rotate(h),u.translate(.5*-e.reader.width,.5*-e.reader.height),u.drawImage(this,0,0),u.setTransform(1,0,0,1,0,0)}if(e.editor.crop){var v=u.getImageData(e.editor.crop.left,e.editor.crop.top,e.editor.crop.width,e.editor.crop.height);d.width=e.editor.crop.width,d.height=e.editor.crop.height,u.putImageData(v,0,0)}var b=r||e.type||"image/jpeg",w=n.editor.quality||90,y=d.toDataURL(b,w/100),x=function(r,d){var u=t?f._assets.dataURItoBlob(r,b):r;!a&&f.thumbnails.renderThumbnail(e,!0,d||r),i&&i(u,e,l,p,o,s),null!=n.editor.onSave&&"function"==typeof n.editor.onSave&&n.editor.onSave(u,e,l,p,o,s),f.set("listInput",null)};if(n.editor.maxWidth||n.editor.maxHeight){var k=new Image;k.src=y,k.onload=function(){var e=document.createElement("canvas");f.editor.resize(k,e,n.editor.maxWidth,n.editor.maxHeight,!0,!1),y=e.toDataURL(b,w/100),x(y,k),d=u=e=null}}else x(y),d=u=null}};if(d){if(!e.popup.editor.hasChanges)return;var h=e.popup.editor.scale||1;e.editor.rotation=e.popup.editor.rotation||0,e.popup.editor.cropper&&(e.editor.crop=e.popup.editor.cropper.crop,e.editor.crop.width=e.editor.crop.width/e.popup.editor.cropper.crop.cfWidth/h,e.editor.crop.left=e.editor.crop.left/e.popup.editor.cropper.crop.cfWidth/h,e.editor.crop.height=e.editor.crop.height/e.popup.editor.cropper.crop.cfHeight/h,e.editor.crop.top=e.editor.crop.top/e.popup.editor.cropper.crop.cfHeight/h)}f._assets.isMobile()?(u.onload=c,u.src=e.reader.src):e.reader.node?c.call(e.reader.node):e.reader.read((function(){c.call(e.reader.node)}))}},sorter:{init:function(){p.on("mousedown touchstart",n.thumbnails._selectors.sorter,f.sorter.mousedown)},destroy:function(){p.off("mousedown touchstart",n.thumbnails._selectors.sorter,f.sorter.mousedown)},findItemAtPos:function(e){var t=f.sorter.sort,o=t.items.not(t.item.html),n=null;return o.each((function(t,o){var r=$(o);if(e.x>r.offset().left&&e.x<r.offset().left+r.outerWidth()&&e.y>r.offset().top&&e.y<r.offset().top+r.outerHeight())return n=r,!1})),n},mousedown:function(e){var t=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",o=$(e.target),r=o.closest(n.thumbnails._selectors.item),i=f.files.find(r),a={x:"mousedown"!=t&&r.length?e.originalEvent.touches[0].pageX:e.pageX,y:"mousedown"!=t&&r.length?e.originalEvent.touches[0].pageY:e.pageY},s=function(){f.sorter.sort={el:o,item:i,items:l.find(n.thumbnails._selectors.item),x:a.x,y:a.y,xItem:a.x-r.offset().left,yItem:a.y-r.offset().top,left:r.position().left,top:r.position().top,width:r.outerWidth(),height:r.outerHeight(),placeholder:n.sorter.placeholder?$(n.sorter.placeholder):i.html.clone().addClass("fileuploader-sorter-placeholder").html("")},$("body").css({"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),$(document).on("mousemove touchmove",f.sorter.mousemove)};e.preventDefault(),f.sorter.sort&&f.sorter.mouseup(),i&&(n.sorter.selectorExclude&&(o.is(n.sorter.selectorExclude)||o.closest(n.sorter.selectorExclude).length)||($(n.thumbnails._selectors.sorter).on("click drop dragend dragleave dragover dragenter dragstart touchstart touchmove touchend touchcancel",(function(e){e.preventDefault()})),"mousedown"==t&&s(),"touchstart"==t&&(f.sorter.isTouchLongPress=!0,setTimeout((function(){f.sorter.isTouchLongPress&&(delete f.sorter.isTouchLongPress,s())}),n.thumbnails.touchDelay?n.thumbnails.touchDelay:0)),$(document).on("mouseup touchend",f.sorter.mouseup)))},mousemove:function(e){var t=e.originalEvent.touches&&e.originalEvent.touches[0]?"touchstart":"mousedown",o=f.sorter.sort,r=o.item,i=l.find(n.thumbnails._selectors.item),a=$(n.sorter.scrollContainer||window),s=$(document).scrollLeft(),p=$(document).scrollTop(),d=a.scrollLeft(),u=a.scrollTop(),c={x:"mousedown"==t?e.clientX:e.originalEvent.touches[0].clientX,y:"mousedown"==t?e.clientY:e.originalEvent.touches[0].clientY};e.preventDefault();var h=c.x-o.xItem,m=c.y-o.yItem,g=c.x-(a.prop("offsetLeft")||0),v=c.y-(a.prop("offsetTop")||0);h+o.xItem>a.width()&&(h=a.width()-o.xItem),h+o.xItem<0&&(h=0-o.xItem),m+o.yItem>a.height()&&(m=a.height()-o.yItem),m+o.yItem<0&&(m=0-o.yItem),v<=0&&a.scrollTop(u-10),v>a.height()&&a.scrollTop(u+10),g<0&&a.scrollLeft(d-10),g>a.width()&&a.scrollLeft(d+10),r.html.addClass("sorting").css({position:"fixed",left:h,top:m,width:f.sorter.sort.width,height:f.sorter.sort.height}),l.find(o.placeholder).length||r.html.after(o.placeholder),o.placeholder.css({width:f.sorter.sort.width,height:f.sorter.sort.height});var b=f.sorter.findItemAtPos({x:h+o.xItem+s,y:m+o.yItem+p});if(b){var w=o.placeholder.offset().left!=b.offset().left,y=o.placeholder.offset().top!=b.offset().top;if(f.sorter.sort.lastHover&&f.sorter.sort.lastHover.el==b[0]){if(y&&"before"==f.sorter.sort.lastHover.direction&&c.y<f.sorter.sort.lastHover.y)return;if(y&&"after"==f.sorter.sort.lastHover.direction&&c.y>f.sorter.sort.lastHover.y)return;if(w&&"before"==f.sorter.sort.lastHover.direction&&c.x<f.sorter.sort.lastHover.x)return;if(w&&"after"==f.sorter.sort.lastHover.direction&&c.x>f.sorter.sort.lastHover.x)return}var x=i.index(r.html)>i.index(b)?"before":"after";b[x](o.placeholder),b[x](r.html),f.sorter.sort.lastHover={el:b[0],x:c.x,y:c.y,direction:x}}},mouseup:function(){var e=f.sorter.sort,t=e.item;$("body").css({"-webkit-user-select":"","-moz-user-select":"","-ms-user-select":"","user-select":""}),t.html.removeClass("sorting").css({position:"",left:"",top:"",width:"",height:""}),$(document).off("mousemove touchmove",f.sorter.mousemove),$(document).off("mouseup touchend",f.sorter.mouseup),e.placeholder.remove(),delete f.sorter.sort,f.sorter.save()},save:function(e){var t,r=0,i=[],a=[],d=e?f._itFl:n.thumbnails.itemPrepend?l.children().get().reverse():l.children();$.each(d,(function(e,o){var n=o.file?o:f.files.find($(o));if(n){if(n.upload&&!n.uploaded)return;f.rendered&&n.index!=r&&(f._itSl&&f._itSl.indexOf(n.id),1)&&(t=!0),n.index=r,i.push(n),a.push(n.id),r++}})),f._itSl&&f._itSl.length!=a.length&&(t=!0),f._itSl=a,t&&i.length==f._itFl.length&&(f._itFl=i),e||f.set("listInput","ignoreSorter"),t&&null!=n.sorter.onSort&&"function"==typeof n.sorter.onSort&&n.sorter.onSort(i,l,p,o,s)}},upload:{prepare:function(e,t){e.upload={url:n.upload.url,data:$.extend({},n.upload.data),formData:new FormData,type:n.upload.type||"POST",enctype:n.upload.enctype||"multipart/form-data",cache:!1,contentType:!1,processData:!1,chunk:e.upload?e.upload.chunk:null,status:null,send:function(){f.upload.send(e,!0)},cancel:function(t){f.upload.cancel(e,t)}},e.upload.formData.append(s.attr("name"),e.file,!!e.name&&e.name),(n.upload.start||t)&&f.upload.send(e,t)},send:function(e,t){if(e.upload){var r=function(t){e.html&&e.html.removeClass("upload-pending upload-loading upload-cancelled upload-failed upload-success").addClass("upload-"+(t||e.upload.status))},i=function(){var t=0;if(f._pfuL.length>0)for(f._pfuL.indexOf(e)>-1&&f._pfuL.splice(f._pfuL.indexOf(e),1);t<f._pfuL.length;){if(f._itFl.indexOf(f._pfuL[t])>-1&&f._pfuL[t].upload&&!f._pfuL[t].upload.$ajax){f.upload.send(f._pfuL[t],!0);break}f._pfuL.splice(t,1),t++}};if(n.upload.synchron&&!e.upload.chunk)if(e.upload.status="pending",e.html&&r(),t)f._pfuL.indexOf(e)>-1&&f._pfuL.splice(f._pfuL.indexOf(e),1);else if(-1==f._pfuL.indexOf(e)&&f._pfuL.push(e),f._pfuL.length>1)return;if(n.upload.chunk&&e.file.slice){var a=1e6*n.upload.chunk,d=Math.ceil(e.size/a,a);if(d>1&&!e.upload.chunk&&(e.upload.chunk={name:e.name,size:e.file.size,type:e.file.type,chunkSize:a,temp_name:e.name,loaded:0,total:d,i:-1}),e.upload.chunk)if(e.upload.chunk.i++,delete e.upload.chunk.isFirst,delete e.upload.chunk.isLast,0==e.upload.chunk.i&&(e.upload.chunk.isFirst=!0),e.upload.chunk.i==e.upload.chunk.total-1&&(e.upload.chunk.isLast=!0),e.upload.chunk.i<=e.upload.chunk.total-1){var u=e.upload.chunk.i*e.upload.chunk.chunkSize,c=e.file.slice(u,u+e.upload.chunk.chunkSize);e.upload.formData=new FormData,e.upload.formData.append(s.attr("name"),c),e.upload.data._chunkedd=JSON.stringify(e.upload.chunk)}else delete e.upload.chunk}if(n.upload.beforeSend&&$.isFunction(n.upload.beforeSend)&&!1===n.upload.beforeSend(e,l,p,o,s))return delete e.upload.chunk,r(),void i();if(p.addClass("fileuploader-is-uploading"),e.upload.$ajax&&e.upload.$ajax.abort(),delete e.upload.$ajax,delete e.upload.send,e.upload.status="loading",e.html&&(n.thumbnails._selectors.start&&e.html.find(n.thumbnails._selectors.start).remove(),r()),e.upload.data)for(var h in e.upload.data)e.upload.data.hasOwnProperty(h)&&e.upload.formData.append(h,e.upload.data[h]);e.upload.data=e.upload.formData,e.upload.xhr=function(){var t=$.ajaxSettings.xhr(),o=e.upload.chunk&&e.upload.chunk.xhrStartedAt?e.upload.chunk.xhrStartedAt:new Date;return t.upload&&t.upload.addEventListener("progress",(function(t){e.upload.$ajax&&(e.upload.$ajax.total=e.upload.chunk?e.upload.chunk.size:t.total,e.upload.$ajax.xhrStartedAt=o),f.upload.progressHandling(t,e,o)}),!1),t},e.upload.complete=function(t,r){if(e.upload.chunk&&!e.upload.chunk.isLast&&"success"==r)return f.upload.send(e);i();var a=!0;$.each(f._itFl,(function(e,t){t.upload&&t.upload.$ajax&&(a=!1)})),a&&(p.removeClass("fileuploader-is-uploading"),null!=n.upload.onComplete&&"function"==typeof n.upload.onComplete&&n.upload.onComplete(l,p,o,s,t,r))},e.upload.success=function(t,i,a){if(!e.upload.chunk||e.upload.chunk.isLast)delete e.upload.chunk,f.upload.progressHandling(null,e,e.upload.$ajax.xhrStartedAt,!0),e.uploaded=!0,delete e.upload,e.upload={status:"successful",resend:function(){f.upload.retry(e)}},e.html&&r(),null!=n.upload.onSuccess&&$.isFunction(n.upload.onSuccess)&&n.upload.onSuccess(t,e,l,p,o,s,i,a),f.set("listInput",null);else try{var d=JSON.parse(t);e.upload.chunk.temp_name=d.fileuploader.temp_name}catch(e){}},e.upload.error=function(t,i,a){e.upload.chunk&&(e.upload.chunk.i=Math.max(-1,e.upload.chunk.i-1)),e.uploaded=!1,e.upload.status="cancelled"==e.upload.status?e.upload.status:"failed",e.upload.retry=function(){f.upload.retry(e)},delete e.upload.$ajax,e.html&&r(),null!=n.upload.onError&&$.isFunction(n.upload.onError)&&n.upload.onError(e,l,p,o,s,t,i,a)},e.upload.$ajax=$.ajax(e.upload)}},cancel:function(e,t){e&&e.upload&&(e.upload.status="cancelled",delete e.upload.chunk,e.upload.$ajax&&e.upload.$ajax.abort(),delete e.upload.$ajax,!t&&f.files.remove(e))},retry:function(e){e&&e.upload&&(e.html&&n.thumbnails._selectors.retry&&e.html.find(n.thumbnails._selectors.retry).remove(),f.upload.prepare(e,!0))},progressHandling:function(e,t,r,i){if(!e&&i&&t.upload.$ajax&&(e={total:t.upload.$ajax.total,loaded:t.upload.$ajax.total,lengthComputable:!0}),e.lengthComputable){var a=e.loaded+(t.upload.chunk?t.upload.chunk.loaded:0),d=t.upload.chunk?t.upload.chunk.size:e.total,u=Math.round(100*a/d),c=t.upload.chunk&&t.upload.chunk.xhrStartedAt?t.upload.chunk.xhrStartedAt:r,h=((new Date).getTime()-c.getTime())/1e3,m=h?a/h:0,g=Math.max(0,d-a),v=Math.max(0,h?g/m:0),b={loaded:a,loadedInFormat:f._assets.bytesToText(a),total:d,totalInFormat:f._assets.bytesToText(d),percentage:u,secondsElapsed:h,secondsElapsedInFormat:f._assets.secondsToText(h,!0),bytesPerSecond:m,bytesPerSecondInFormat:f._assets.bytesToText(m)+"/s",remainingBytes:g,remainingBytesInFormat:f._assets.bytesToText(g),secondsRemaining:v,secondsRemainingInFormat:f._assets.secondsToText(v,!0)};t.upload.chunk&&(t.upload.chunk.isFirst&&(t.upload.chunk.xhrStartedAt=r),e.loaded!=e.total||t.upload.chunk.isLast||(t.upload.chunk.loaded+=Math.max(e.total,t.upload.chunk.total/t.upload.chunk.chunkSize))),b.percentage>99&&!i&&(b.percentage=99),n.upload.onProgress&&$.isFunction(n.upload.onProgress)&&n.upload.onProgress(b,t,l,p,o,s)}}},dragDrop:{onDragEnter:function(e){clearTimeout(f.dragDrop._timer),n.dragDrop.container.addClass("fileuploader-dragging"),f.set("feedback",f._assets.textParse(n.captions.drop)),null!=n.dragDrop.onDragEnter&&$.isFunction(n.dragDrop.onDragEnter)&&n.dragDrop.onDragEnter(e,l,p,o,s)},onDragLeave:function(e){clearTimeout(f.dragDrop._timer),f.dragDrop._timer=setTimeout((function(e){if(!f.dragDrop._dragLeaveCheck(e))return!1;n.dragDrop.container.removeClass("fileuploader-dragging"),f.set("feedback",null),null!=n.dragDrop.onDragLeave&&$.isFunction(n.dragDrop.onDragLeave)&&n.dragDrop.onDragLeave(e,l,p,o,s)}),100,e)},onDrop:function(e){clearTimeout(f.dragDrop._timer),n.dragDrop.container.removeClass("fileuploader-dragging"),f.set("feedback",null),e&&e.originalEvent&&e.originalEvent.dataTransfer&&e.originalEvent.dataTransfer.files&&e.originalEvent.dataTransfer.files.length&&(f.isUploadMode()?f.onChange(e,e.originalEvent.dataTransfer.files):s.prop("files",e.originalEvent.dataTransfer.files).trigger("change")),null!=n.dragDrop.onDrop&&$.isFunction(n.dragDrop.onDrop)&&n.dragDrop.onDrop(e,l,p,o,s)},_dragLeaveCheck:function(e){var t=$(e.currentTarget);return!(!t.is(n.dragDrop.container)&&n.dragDrop.container.find(t).length)}},clipboard:{paste:function(e){if(f._assets.isIntoView(o)&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items&&e.originalEvent.clipboardData.items.length){var t=e.originalEvent.clipboardData.items;f.clipboard.clean();for(var r=0;r<t.length;r++)if(-1!==t[r].type.indexOf("image")||-1!==t[r].type.indexOf("text/uri-list")){var i=t[r].getAsFile(),a=n.clipboardPaste>1?n.clipboardPaste:2e3;i&&(i._name=f._assets.generateFileName(-1!=i.type.indexOf("/")?i.type.split("/")[1].toString().toLowerCase():"png","Clipboard "),f.set("feedback",f._assets.textParse(n.captions.paste,{ms:a/1e3})),f.clipboard._timer=setTimeout((function(){f.set("feedback",null),f.onChange(e,[i])}),a-2))}}},clean:function(){f.clipboard._timer&&(clearTimeout(f.clipboard._timer),delete f.clipboard._timer,f.set("feedback",null))}},files:{add:function(e,t){var o,r,i=e._name||e.name,a=e.size,l=f._assets.bytesToText(a),p=e.type,d=p?p.split("/",1).toString().toLowerCase():"",u=-1!=i.indexOf(".")?i.split(".").pop().toLowerCase():"",c=i.substr(0,i.length-(-1!=i.indexOf(".")?u.length+1:u.length)),h={name:i,title:c,size:a,size2:l,type:p,format:d,extension:u,data:h=e.data||{},file:e.file||e,reader:{read:function(e,t,o){return f.files.read(r,e,t,o)}},id:"updated"==t?e.id:Date.now(),input:"choosed"==t?s:null,html:null,choosed:"choosed"==t,appended:"appended"==t||"updated"==t,uploaded:"uploaded"==t};return"updated"!=t?(f._itFl.push(h),o=f._itFl.length-1,r=f._itFl[o]):(o=f._itFl.indexOf(e),f._itFl[o]=r=h),r.remove=function(){f.files.remove(r)},n.editor&&"image"==d&&(r.editor={rotate:function(e){f.editor.rotate(r,e)},cropper:function(e){f.editor.crop(r,e)},save:function(e,t,o,n){f.editor.save(r,t,o,e,n)}}),e.local&&(r.local=e.local),o},read:function(e,t,r,i,a){if(f.isFileReaderSupported()&&!e.data.readerSkip){var d=new FileReader,u=window.URL||window.webkitURL,c=a&&e.data.thumbnail,h="string"!=typeof e.file,m=function(){var t=e.reader._callbacks||[];e.reader._timer&&(clearTimeout(e.reader._timer),delete e.reader._timer),delete e.reader._callbacks,delete e.reader._FileReader;for(var r=0;r<t.length;r++)$.isFunction(t[r])&&t[r](e,l,p,o,s);n.onFileRead&&$.isFunction(n.onFileRead)&&n.onFileRead(e,l,p,o,s)};if((!e.reader.src&&!e.reader._FileReader||i)&&(e.reader={_FileReader:d,_callbacks:[],read:e.reader.read}),e.reader.src&&!i)return t&&$.isFunction(t)?t(e,l,p,o,s):null;if(t&&e.reader._callbacks&&(e.reader._callbacks.push(t),e.reader._callbacks.length>1))return;if("astext"==e.format)d.onload=function(t){var o=document.createElement("div");e.reader.node=o,e.reader.src=t.target.result,e.reader.length=t.target.result.length,o.innerHTML=e.reader.src.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),m()},d.onerror=function(){m(),e.reader={read:e.reader.read}},h?d.readAsText(e.file):$.ajax({url:e.file,success:function(e){d.onload({target:{result:e}})},error:function(){d.onerror()}});else if("image"==e.format||c){if(d.onload=function(t){var o=new Image,r=function(){e.data&&e.data.readerCrossOrigin&&o.setAttribute("crossOrigin",e.data.readerCrossOrigin),o.src=t.target.result+(!e.data.readerForce&&!i||h||c||-1!=t.target.result.indexOf("data:image")?"":(-1==t.target.result.indexOf("?")?"?":"&")+"d="+Date.now()),o.onload=function(){if(e.reader.exifOrientation){var t=document.createElement("canvas"),n=t.getContext("2d"),r=o,i=e.reader.exifOrientation,a=[0,180];t.width=r.naturalWidth,t.height=r.naturalHeight,n.drawImage(r,0,0),t.width=a.indexOf(i)>-1?r.naturalWidth:r.naturalHeight,t.height=a.indexOf(i)>-1?r.naturalHeight:r.naturalWidth;var l=i*Math.PI/180,s=.5*t.width,p=.5*t.height;return n.clearRect(0,0,t.width,t.height),n.translate(s,p),n.rotate(l),n.translate(.5*-r.naturalWidth,.5*-r.naturalHeight),n.drawImage(r,0,0),n.setTransform(1,0,0,1,0,0),o.src=t.toDataURL(e.type,1),void delete e.reader.exifOrientation}e.reader.node=o,e.reader.src=o.src,e.reader.width=o.width,e.reader.height=o.height,e.reader.ratio=f._assets.pxToRatio(e.reader.width,e.reader.height),b&&u.revokeObjectURL(b),m(),c&&(e.reader={read:e.reader.read})},o.onerror=function(){m(),e.reader={read:e.reader.read}}};n.thumbnails.exif&&e.choosed?f._assets.getExifOrientation(e.file,(function(t){t&&(e.reader.exifOrientation=t),r()})):r()},d.onerror=function(){m(),e.reader={read:e.reader.read}},!c&&Math.round(e.size/1e6)>n.reader.maxSize)return d.onerror();h?n.thumbnails.useObjectUrl&&n.thumbnails.canvasImage&&u?d.onload({target:{result:b=u.createObjectURL(e.file)}}):d.readAsDataURL(e.file):d.onload({target:{result:c?e.data.thumbnail:e.file}})}else if("video"==e.format||"audio"==e.format){var g=(v=document.createElement(e.format)).canPlayType(e.type);if(d.onerror=function(){e.reader.node=null,m(),e.reader={read:e.reader.read}},u&&""!==g){if(a&&!n.thumbnails.videoThumbnail)return e.reader.node=v,m(),void(e.reader={read:e.reader.read});b=h?u.createObjectURL(e.file):e.file,v.onloadedmetadata=function(){e.reader.node=v,e.reader.src=v.src,e.reader.duration=v.duration,e.reader.duration2=f._assets.secondsToText(v.duration),"video"==e.format&&(e.reader.width=v.videoWidth,e.reader.height=v.videoHeight,e.reader.ratio=f._assets.pxToRatio(e.reader.width,e.reader.height))},v.onerror=function(){m(),e.reader={read:e.reader.read}},v.onloadeddata=function(){if("video"==e.format){var t=document.createElement("canvas"),o=t.getContext("2d");t.width=v.videoWidth,t.height=v.videoHeight,o.drawImage(v,0,0,t.width,t.height),e.reader.frame=f._assets.isBlankCanvas(t)?null:t.toDataURL(),t=o=null}m()},setTimeout((function(){e.data&&e.data.readerCrossOrigin&&v.setAttribute("crossOrigin",e.data.readerCrossOrigin),v.src=b+"#t=1"}),100)}else d.onerror()}else if("application/pdf"==e.type&&n.thumbnails.pdf){var v=document.createElement("iframe"),b=h?u.createObjectURL(e.file):(n.thumbnails.pdf.urlPrefix||"")+e.file;n.thumbnails.pdf.viewer||f._assets.hasPlugin("pdf")?(v.onload=function(){e.reader.node=v,e.reader.src=v.src,v.style.display="",m()},v.src=(n.thumbnails.pdf.viewer||"")+b,v.style.display="none",document.body.appendChild(v)):m()}else d.onload=function(t){e.reader.src=t.target.result,e.reader.length=t.target.result.length,m()},d.onerror=function(t){m(),e.reader={read:e.reader.read}},h?d[r||"readAsBinaryString"](e.file):m();e.reader._timer=setTimeout(d.onerror,a?n.reader.thumbnailTimeout:n.reader.timeout)}else t&&t(e,l,p,o,s);return null},list:function(e,t,r,i){var a=[];return!n.sorter||r||i&&"ignoreSorter"==i||f.sorter.save(!0),$.each(f._itFl,(function(o,n){var r=n;if(r.upload&&!r.uploaded)return!0;if((t||e)&&(r=(r.choosed&&!r.uploaded?"0:/":"")+(t&&null!==f.files.getItemAttr(n,t)?f.files.getItemAttr(r,t):r.local||r["string"==typeof r.file?"file":"name"])),e&&(r={file:r},n.editor&&(n.editor.crop||n.editor.rotation)&&(r.editor={},n.editor.rotation&&(r.editor.rotation=n.editor.rotation),n.editor.crop&&(r.editor.crop=n.editor.crop)),void 0!==n.index&&(r.index=n.index),n.data&&n.data.listProps))for(var i in n.data.listProps)r[i]=n.data.listProps[i];a.push(r)})),a=n.onListInput&&$.isFunction(n.onListInput)?n.onListInput(a,f._itFl,n.listInput,l,p,o,s):a,e?JSON.stringify(a):a},check:function(e,t,r){var i=["warning",null,!1,!1];if(null!=n.limit&&r&&t.length+f._itFl.length-1>n.limit)return i[1]=f._assets.textParse(n.captions.errors.filesLimit),i[3]=!0,i;if(null!=n.maxSize&&r){var a=0;if($.each(f._itFl,(function(e,t){a+=t.size})),a-=e.size,$.each(t,(function(e,t){a+=t.size})),a>Math.round(1e6*n.maxSize))return i[1]=f._assets.textParse(n.captions.errors.filesSizeAll),i[3]=!0,i}if(null!=n.onFilesCheck&&$.isFunction(n.onFilesCheck)&&r&&!1===n.onFilesCheck(t,n,l,p,o,s))return i[3]=!0,i;if(null!=n.extensions&&-1==$.inArray(e.extension,n.extensions)&&!n.extensions.filter((function(t){return e.type.length&&(t.indexOf(e.type)>-1||t.indexOf(e.format+"/*")>-1)})).length)return i[1]=f._assets.textParse(n.captions.errors.filesType,e),i;if(null!=n.disallowedExtensions&&($.inArray(e.extension,n.disallowedExtensions)>-1||n.disallowedExtensions.filter((function(t){return!e.type.length||t.indexOf(e.type)>-1||t.indexOf(e.format+"/*")>-1})).length))return i[1]=f._assets.textParse(n.captions.errors.filesType,e),i;if(null!=n.fileMaxSize&&e.size>1e6*n.fileMaxSize)return i[1]=f._assets.textParse(n.captions.errors.fileSize,e),i;if(0==e.size&&""==e.type)return i[1]=f._assets.textParse(n.captions.errors.remoteFile,e),i;if(4096==e.size&&""==e.type)return i[1]=f._assets.textParse(n.captions.errors.folderUpload,e),i;if(!n.skipFileNameCheck){a=!1;if($.each(f._itFl,(function(o,r){if(r!=e&&1==r.choosed&&r.file&&r.name==e.name)return a=!0,r.file.size!=e.size||r.file.type!=e.type||e.file.lastModified&&r.file.lastModified&&r.file.lastModified!=e.file.lastModified||!(t.length>1)?(i[1]=f._assets.textParse(n.captions.errors.fileName,e),i[2]=!1):i[2]=!0,!1})),a)return i}return!0},append:function(e){if((e=$.isArray(e)?e:[e]).length){for(var t,r=0;r<e.length;r++)f._assets.keyCompare(e[r],["name","file","size","type"])&&(t=f._itFl[f.files.add(e[r],"appended")],n.thumbnails&&f.thumbnails.item(t));return f.set("feedback",null),f.set("listInput",null),n.afterSelect&&$.isFunction(n.afterSelect)&&n.afterSelect(l,p,o,s),1!=e.length||t}},update:function(e,t){if(!(-1==f._itFl.indexOf(e)||e.upload&&e.upload.$ajax)){var o=e,r=f.files.add($.extend(e,t),"updated");(e=f._itFl[r]).popup&&e.popup.close&&e.popup.close(),n.thumbnails&&o.html&&f.thumbnails.item(e,o.html),f.set("listInput",null)}},find:function(e){var t=null;return $.each(f._itFl,(function(o,n){if(n.html&&n.html.is(e))return t=n,!1})),t},remove:function(e,t){if(t||!n.onRemove||!$.isFunction(n.onRemove)||!1!==n.onRemove(e,l,p,o,s)){if(e.html&&(n.thumbnails.onItemRemove&&$.isFunction(n.thumbnails.onItemRemove)&&!t?n.thumbnails.onItemRemove(e.html,l,p,o,s):e.html.remove()),e.upload&&e.upload.$ajax&&e.upload.cancel&&e.upload.cancel(!0),e.popup&&e.popup.close&&e.popup.close(),e.reader.src&&(e.reader.node=null,URL.revokeObjectURL(e.reader.src)),e.input){var r=!0;$.each(f._itFl,(function(o,n){if(e!=n&&(e.input==n.input||t&&e.input.get(0).files.length>1))return r=!1,!1})),r&&(f.isAddMoreMode()&&sl.length>1?(f.set("nextInput"),sl.splice(sl.indexOf(e.input),1),e.input.remove()):f.set("input",""))}f._pfrL.indexOf(e)>-1&&f._pfrL.splice(f._pfrL.indexOf(e),1),f._pfuL.indexOf(e)>-1&&f._pfuL.splice(f._pfuL.indexOf(e),1),f._itFl.indexOf(e)>-1&&f._itFl.splice(f._itFl.indexOf(e),1),e=null,0==f._itFl.length&&f.reset(),f.set("feedback",null),f.set("listInput",null)}},getItemAttr:function(e,t){var o=null;return e&&(void 0!==e[t]?o=e[t]:e.data&&void 0!==e.data[t]&&(o=e.data[t])),o},clear:function(e){for(var t=0;t<f._itFl.length;){var r=f._itFl[t];e||!r.appended?(r.html&&r.html&&f._itFl[t].html.remove(),r.upload&&r.upload.$ajax&&f.upload.cancel(r),f._itFl.splice(t,1)):t++}f.set("feedback",null),f.set("listInput",null),0==f._itFl.length&&n.onEmpty&&$.isFunction(n.onEmpty)&&n.onEmpty(l,p,o,s)}},reset:function(e){e&&(f.clipboard._timer&&f.clipboard.clean(),$.each(sl,(function(e,t){e<sl.length&&t.remove()})),sl=[],f.set("input","")),f._itRl=[],f._pfuL=[],f._pfrL=[],f.files.clear(e)},destroy:function(){f.reset(!0),f.bindUnbindEvents(!1),s.removeAttr("style"),p.before(s),delete s.get(0).FileUploader,p.remove(),p=o=l=null},_assets:{bytesToText:function(e){if(0==e)return"0 Byte";var t=Math.floor(Math.log(e)/Math.log(1024));return(e/Math.pow(1024,t)).toPrecision(3)+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][t]},escape:function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")},secondsToText:function(e,t){e=parseInt(Math.round(e),10);var o=Math.floor(e/3600),n=Math.floor((e-3600*o)/60),r="";return(o>0||!t)&&(r+=(o<10?"0":"")+o+(t?"h ":":")),(n>0||!t)&&(r+=(n<10&&!t?"0":"")+n+(t?"m ":":")),r+=((e=e-3600*o-60*n)<10&&!t?"0":"")+e+(t?"s":"")},pxToRatio:function(e,t){var o=function e(t,o){return 0==o?t:e(o,t%o)}(e,t);return[e/o,t/o]},ratioToPx:function(e,t,o){return(o=(o+"").split(":")).length<2?null:[t/o[1]*o[0],e/o[0]*o[1],o[0],o[1]]},hasAttr:function(e,t){var o=(t=t||s).attr(e);return!(!o||void 0===o)},copyAllAttributes:function(e,t){return $.each(t.get(0).attributes,(function(){"required"!=this.name&&"type"!=this.name&&e.attr(this.name,this.value)})),t.get(0).FileUploader&&(e.get(0).FileUploader=t.get(0).FileUploader),e},getAllEvents:function(e){e=e||s;var t=[];for(var o in e=e.get?e.get(0):e)0===o.indexOf("on")&&t.push(o.slice(2));return-1==t.indexOf("change")&&t.push("change"),t.join(" ")},isIntoView:function(e){var t=$(window).scrollTop(),o=t+window.innerHeight,n=e.offset().top,r=n+e.outerHeight();return t<n&&o>r},isBlankCanvas:function(e){var t=document.createElement("canvas"),o=!1;t.width=e.width,t.height=e.height;try{o=e.toDataURL()==t.toDataURL()}catch(e){}return t=null,o},generateFileName:function(e,t){var o=new Date,n=function(e){return e<10&&(e="0"+e),e};e=e?"."+e:"";return(t=t||"")+o.getFullYear()+"-"+n(o.getMonth()+1)+"-"+n(o.getDate())+" "+n(o.getHours())+"-"+n(o.getMinutes())+"-"+n(o.getSeconds())+e},arrayBufferToBase64:function(e){for(var t="",o=new Uint8Array(e),n=0;n<o.byteLength;n++)t+=String.fromCharCode(o[n]);return window.btoa(t)},dataURItoBlob:function(e,t){for(var o=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(o.length),i=new Uint8Array(r),a=0;a<o.length;a++)i[a]=o.charCodeAt(a);var l=new DataView(r);return new Blob([l.buffer],{type:t||n})},getExifOrientation:function(e,t){var o=new FileReader,n={1:0,3:180,6:90,8:270};o.onload=function(e){var o=new DataView(e.target.result),r=1;if(o.byteLength&&65496==o.getUint16(0,!1))for(var i=o.byteLength,a=2;a<i&&!(o.getUint16(a+2,!1)<=8);){var l=o.getUint16(a,!1);if(a+=2,65505==l){if(1165519206!=o.getUint32(a+=2,!1))break;var s,p=18761==o.getUint16(a+=6,!1);a+=o.getUint32(a+4,p),s=o.getUint16(a,p),a+=2;for(var d=0;d<s;d++)if(274==o.getUint16(a+12*d,p)){r=o.getUint16(a+12*d+8,p),i=0;break}}else{if(65280!=(65280&l))break;a+=o.getUint16(a,!1)}}t&&t(n[r]||0)},o.onerror=function(){t&&t("")},o.readAsArrayBuffer(e)},textParse:function textParse(text,opts,noOptions){switch(opts=noOptions?opts||{}:$.extend({},{limit:n.limit,maxSize:n.maxSize,fileMaxSize:n.fileMaxSize,extensions:n.extensions?n.extensions.join(", "):null,captions:n.captions},opts),_typeof(text)){case"string":for(var key in opts)["name","file","type","size"].indexOf(key)>-1&&(opts[key]=f._assets.escape(opts[key]));text=text.replace(/\$\{(.*?)\}/g,(function(match,a){var a=a.replace(/ /g,""),r=void 0!==opts[a]&&null!=opts[a]?opts[a]:"";if(["reader.node"].indexOf(a)>-1)return match;if(a.indexOf(".")>-1||a.indexOf("[]")>-1){var x=a.substr(0,a.indexOf(".")>-1?a.indexOf("."):a.indexOf("[")>-1?a.indexOf("["):a.length),y=a.substring(x.length);if(opts[x])try{r=eval('opts["'+x+'"]'+y)}catch(e){r=""}}return r=$.isFunction(r)?f._assets.textParse(r):r,r||""}));break;case"function":text=f._assets.textParse(text(opts,l,p,o,s,f._assets.textParse),opts,noOptions)}return opts=null,text},textToColor:function(e){if(!e||0==e.length)return!1;for(var t=0,o=0;t<e.length;o=e.charCodeAt(t++)+((o<<5)-o));t=0;for(var n="#";t<3;n+=("00"+(o>>2*t++&255).toString(16)).slice(-2));return n},isBrightColor:function(e){return function(e){var t,o,n=(t=e)&&t.constructor==Array&&3==t.length?t:(o=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]:(o=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(o[1]),2.55*parseFloat(o[2]),2.55*parseFloat(o[3])]:(o=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]:(o=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]:"undefined"!=typeof colors?colors[$.trim(t).toLowerCase()]:null;return n?.2126*n[0]+.7152*n[1]+.0722*n[2]:null}(e)>194},keyCompare:function(e,t){for(var o=0;o<t.length;o++)if(!$.isPlainObject(e)||!e.hasOwnProperty(t[o]))throw new Error('Could not find valid *strict* attribute "'+t[o]+'" in '+JSON.stringify(e,null,4));return!0},hasPlugin:function(e){if(navigator.plugins&&navigator.plugins.length)for(var t in navigator.plugins)if(navigator.plugins[t].name.toLowerCase().indexOf(e)>-1)return!0;return!1},isIE:function(){return navigator.userAgent.indexOf("MSIE ")>-1||navigator.userAgent.indexOf("Trident/")>-1||navigator.userAgent.indexOf("Edge")>-1},isMobile:function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")}},isSupported:function(){return s&&s.get(0).files},isFileReaderSupported:function(){return window.File&&window.FileList&&window.FileReader},isDefaultMode:function(){return!(n.upload||n.addMore&&1!=n.limit)},isAddMoreMode:function(){return!n.upload&&n.addMore&&1!=n.limit},isUploadMode:function(){return n.upload},_itFl:[],_pfuL:[],_pfrL:[],disabled:!1,locked:!1,rendered:!1};return n.enableApi&&(s.get(0).FileUploader={open:function(){s.trigger("click")},getOptions:function(){return n},getParentEl:function(){return p},getInputEl:function(){return s},getNewInputEl:function(){return o},getListEl:function(){return l},getListInputEl:function(){return n.listInput},getFiles:function(){return f._itFl},getChoosedFiles:function(){return f._itFl.filter((function(e){return e.choosed}))},getAppendedFiles:function(){return f._itFl.filter((function(e){return e.appended}))},getUploadedFiles:function(){return f._itFl.filter((function(e){return e.uploaded}))},getFileList:function(e,t){return f.files.list(e,t,!0)},updateFileList:function(){return f.set("listInput",null),!0},setOption:function(e,t){return n[e]=t,!0},findFile:function(e){return f.files.find(e)},add:function(e,t,o){if(!f.isUploadMode())return!1;var n;if(e instanceof Blob)n=e;else{var r=/data:[a-z]+\/[a-z]+\;base64\,/.test(e)?e:"data:"+t+";base64,"+btoa(e);n=f._assets.dataURItoBlob(r,t)}return n._name=o||f._assets.generateFileName(-1!=n.type.indexOf("/")?n.type.split("/")[1].toString().toLowerCase():"File "),f.onChange(null,[n]),!0},append:function(e){return f.files.append(e)},update:function(e,t){return f.files.update(e,t)},remove:function(e){return e=e.jquery?f.files.find(e):e,f._itFl.indexOf(e)>-1&&(f.files.remove(e),!0)},uploadStart:function(){var e=this.getChoosedFiles()||[];if(f.isUploadMode()&&e.length>0&&!e[0].uploaded)for(var t=0;t<e.length;t++)f.upload.send(e[t])},reset:function(){return f.reset(!0),!0},disable:function(e){return f.set("disabled",!0),e&&(f.locked=!0),!0},enable:function(){return f.set("disabled",!1),f.locked=!1,!0},destroy:function(){return f.destroy(),!0},isEmpty:function(){return 0==f._itFl.length},isDisabled:function(){return f.disabled},isRendered:function(){return f.rendered},assets:f._assets,getPluginMode:function(){return f.isDefaultMode()?"default":f.isAddMoreMode()?"addMore":f.isUploadMode()?"upload":void 0}}),f.init(),this}))},$.fileuploader={getInstance:function(e){return(e.prop?e:$(e)).get(0).FileUploader}},$.fn.fileuploader.defaults={limit:null,maxSize:null,fileMaxSize:null,extensions:null,disallowedExtensions:null,changeInput:!0,inputNameBrackets:!0,theme:"default",thumbnails:{box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"></ul></div>',boxAppendTo:null,item:'<li class="fileuploader-item file-has-popup"><div class="columns"><div class="column-thumbnail">${image}<span class="fileuploader-action-popup"></span></div><div class="column-title"><div title="${name}">${name}</div><span>${size2}</span></div><div class="column-actions"><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div></div><div class="progress-bar2">${progressBar}<span></span></div></li>',item2:'<li class="fileuploader-item file-has-popup"><div class="columns"><div class="column-thumbnail">${image}<span class="fileuploader-action-popup"></span></div><div class="column-title"><a href="${file}" target="_blank"><div title="${name}">${name}</div><span>${size2}</span></a></div><div class="column-actions"><a href="${file}" class="fileuploader-action fileuploader-action-download" title="${captions.download}" download><i></i></a><a class="fileuploader-action fileuploader-action-remove" title="${captions.remove}"><i></i></a></div></div></li>',popup:{container:"body",loop:!0,arrows:!0,zoomer:!0,template:function(e){return'<div class="fileuploader-popup-preview"><a class="fileuploader-popup-move" data-action="prev"></a><div class="fileuploader-popup-node ${format}">${reader.node}</div><div class="fileuploader-popup-content"><div class="fileuploader-popup-footer"><ul class="fileuploader-popup-tools">'+("image"==e.format&&e.editor?(e.editor.cropper?'<li><a data-action="crop"><i></i> ${captions.crop}</a></li>':"")+(e.editor.rotate?'<li><a data-action="rotate-cw"><i></i> ${captions.rotate}</a></li>':""):"")+("image"==e.format?'<li class="fileuploader-popup-zoomer"><a data-action="zoom-out">&minus;</a><input type="range" min="0" max="100"><a data-action="zoom-in">&plus;</a><span></span> </li>':"")+'<li><a data-action="remove"><i></i> ${captions.remove}</a></li></ul></div><div class="fileuploader-popup-header"><ul class="fileuploader-popup-meta"><li><span>${captions.name}:</span><h5>${name}</h5></li><li><span>${captions.type}:</span><h5>${extension.toUpperCase()}</h5></li><li><span>${captions.size}:</span><h5>${size2}</h5></li>'+(e.reader&&e.reader.width?"<li><span>${captions.dimensions}:</span><h5>${reader.width}x${reader.height}px</h5></li>":"")+(e.reader&&e.reader.duration?"<li><span>${captions.duration}:</span><h5>${reader.duration2}</h5></li>":"")+'</ul><div class="fileuploader-popup-info"></div><ul class="fileuploader-popup-buttons"><li><a class="fileuploader-popup-button" data-action="cancel">${captions.cancel}</a></li><li><a class="fileuploader-popup-button button-success" data-action="save">${captions.confirm}</a></li></ul></div></div><a class="fileuploader-popup-move" data-action="next"></a></div>'},onShow:function(e){e.popup.html.on("click",'[data-action="remove"]',(function(t){e.popup.close(),e.remove()})).on("click",'[data-action="cancel"]',(function(t){e.popup.close()})).on("click",'[data-action="save"]',(function(t){e.editor&&e.editor.save(),e.popup.close&&e.popup.close()}))},onHide:null},itemPrepend:!1,removeConfirmation:!0,startImageRenderer:!0,synchronImages:!0,useObjectUrl:!1,canvasImage:!0,videoThumbnail:!0,pdf:!0,exif:!0,touchDelay:0,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",remove:".fileuploader-action-remove",sorter:".fileuploader-action-sort",rotate:".fileuploader-action-rotate",popup:".fileuploader-popup-preview",popup_open:".fileuploader-action-popup"},beforeShow:null,onItemShow:null,onItemRemove:function(e){e.children().animate({opacity:0},200,(function(){setTimeout((function(){e.slideUp(200,(function(){e.remove()}))}),100)}))},onImageLoaded:null},editor:!1,sorter:!1,reader:{thumbnailTimeout:5e3,timeout:12e3,maxSize:20},files:null,upload:null,dragDrop:!0,addMore:!1,skipFileNameCheck:!1,clipboardPaste:!0,listInput:!0,enableApi:!1,listeners:null,onSupportError:null,beforeRender:null,afterRender:null,beforeSelect:null,onFilesCheck:null,onFileRead:null,onSelect:null,afterSelect:null,onListInput:null,onRemove:null,onEmpty:null,dialogs:{alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return alert(e)})),confirm:function(e){function t(t,o){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){confirm(e)&&t()}))},captions:{button:function(e){return"Browse "+(1==e.limit?"file":"files")},feedback:function(e){return"Choose "+(1==e.limit?"file":"files")+" to upload"},feedback2:function(e){return e.length+" "+(e.length>1?" files were":" file was")+" chosen"},confirm:"Confirm",cancel:"Cancel",name:"Name",type:"Type",size:"Size",dimensions:"Dimensions",duration:"Duration",crop:"Crop",rotate:"Rotate",sort:"Sort",download:"Download",remove:"Remove",drop:"Drop the files here to upload",paste:'<div class="fileuploader-pending-loader"></div> Pasting a file, click here to cancel.',removeConfirmation:"Are you sure you want to remove this file?",errors:{filesLimit:"Only ${limit} files are allowed to be uploaded.",filesType:"Only ${extensions} files are allowed to be uploaded.",fileSize:"${name} is too large! Please choose a file up to ${fileMaxSize}MB.",filesSizeAll:"Files that you chose are too large! Please upload files up to ${maxSize} MB.",fileName:"File with the name ${name} is already selected.",remoteFile:"Remote files are not allowed.",folderUpload:"You are not allowed to upload folders."}}}})(jQuery)},6799:function(e,t,o){var n,r,i,a;function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}e=o.nmd(e),a=function(){return function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var o={};return t.m=e,t.c=o,t.i=function(e){return e},t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)}([function(e,t,o){"use strict";e.exports=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,o){"use strict";var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(5),i=o(7),a=o(4),l=function(){function e(t,o){var n=o.location,r=void 0===n?0:n,i=o.distance,l=void 0===i?100:i,s=o.threshold,p=void 0===s?.6:s,d=o.maxPatternLength,u=void 0===d?32:d,c=o.isCaseSensitive,f=void 0!==c&&c,h=o.tokenSeparator,m=void 0===h?/ +/g:h,g=o.findAllMatches,v=void 0!==g&&g,b=o.minMatchCharLength,w=void 0===b?1:b;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options={location:r,distance:l,threshold:p,maxPatternLength:u,isCaseSensitive:f,tokenSeparator:m,findAllMatches:v,minMatchCharLength:w},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}return n(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,o=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>o)return r(e,this.pattern,n);var a=this.options,l=a.location,s=a.distance,p=a.threshold,d=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:l,distance:s,threshold:p,findAllMatches:d,minMatchCharLength:u})}}]),e}();e.exports=l},function(e,t,o){"use strict";var n=o(0),r=function e(t,o,r){if(o){var i=o.indexOf("."),a=o,l=null;-1!==i&&(a=o.slice(0,i),l=o.slice(i+1));var s=t[a];if(null!=s)if(l||"string"!=typeof s&&"number"!=typeof s)if(n(s))for(var p=0,d=s.length;p<d;p+=1)e(s[p],l,r);else l&&e(s,l,r);else r.push(s.toString())}else r.push(t);return r};e.exports=function(e,t){return r(e,t,[])}},function(e,t,o){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,o=[],n=-1,r=-1,i=0,a=e.length;i<a;i+=1){var l=e[i];l&&-1===n?n=i:l||-1===n||((r=i-1)-n+1>=t&&o.push([n,r]),n=-1)}return e[i-1]&&i-n>=t&&o.push([n,i-1]),o}},function(e,t,o){"use strict";e.exports=function(e){for(var t={},o=e.length,n=0;n<o;n+=1)t[e.charAt(n)]=0;for(var r=0;r<o;r+=1)t[e.charAt(r)]|=1<<o-r-1;return t}},function(e,t,o){"use strict";e.exports=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,n=new RegExp(t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(o,"|")),r=e.match(n),i=!!r,a=[];if(i)for(var l=0,s=r.length;l<s;l+=1){var p=r[l];a.push([e.indexOf(p),p.length-1])}return{score:i?.5:1,isMatch:i,matchedIndices:a}}},function(e,t,o){"use strict";e.exports=function(e,t){var o=t.errors,n=void 0===o?0:o,r=t.currentLocation,i=void 0===r?0:r,a=t.expectedLocation,l=void 0===a?0:a,s=t.distance,p=void 0===s?100:s,d=n/e.length,u=Math.abs(l-i);return p?d+u/p:u?1:d}},function(e,t,o){"use strict";var n=o(6),r=o(3);e.exports=function(e,t,o,i){for(var a=i.location,l=void 0===a?0:a,s=i.distance,p=void 0===s?100:s,d=i.threshold,u=void 0===d?.6:d,c=i.findAllMatches,f=void 0!==c&&c,h=i.minMatchCharLength,m=void 0===h?1:h,g=l,v=e.length,b=u,w=e.indexOf(t,g),y=t.length,x=[],k=0;k<v;k+=1)x[k]=0;if(-1!==w){var _=n(t,{errors:0,currentLocation:w,expectedLocation:g,distance:p});if(b=Math.min(_,b),-1!==(w=e.lastIndexOf(t,g+y))){var $=n(t,{errors:0,currentLocation:w,expectedLocation:g,distance:p});b=Math.min($,b)}}w=-1;for(var S=[],C=1,M=y+v,I=1<<y-1,z=0;z<y;z+=1){for(var F=0,L=M;F<L;)n(t,{errors:z,currentLocation:g+L,expectedLocation:g,distance:p})<=b?F=L:M=L,L=Math.floor((M-F)/2+F);M=L;var D=Math.max(1,g-L+1),T=f?v:Math.min(g+L,v)+y,E=Array(T+2);E[T+1]=(1<<z)-1;for(var O=T;O>=D;O-=1){var A=O-1,P=o[e.charAt(A)];if(P&&(x[A]=1),E[O]=(E[O+1]<<1|1)&P,0!==z&&(E[O]|=(S[O+1]|S[O])<<1|1|S[O+1]),E[O]&I&&(C=n(t,{errors:z,currentLocation:A,expectedLocation:g,distance:p}))<=b){if(b=C,(w=A)<=g)break;D=Math.max(1,2*g-w)}}if(n(t,{errors:z+1,currentLocation:g,expectedLocation:g,distance:p})>b)break;S=E}return{isMatch:w>=0,score:0===C?.001:C,matchedIndices:r(x,m)}}},function(e,t,o){"use strict";var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o(1),i=o(2),a=o(0),l=function(){function e(t,o){var n=o.location,r=void 0===n?0:n,a=o.distance,l=void 0===a?100:a,s=o.threshold,p=void 0===s?.6:s,d=o.maxPatternLength,u=void 0===d?32:d,c=o.caseSensitive,f=void 0!==c&&c,h=o.tokenSeparator,m=void 0===h?/ +/g:h,g=o.findAllMatches,v=void 0!==g&&g,b=o.minMatchCharLength,w=void 0===b?1:b,y=o.id,x=void 0===y?null:y,k=o.keys,_=void 0===k?[]:k,$=o.shouldSort,S=void 0===$||$,C=o.getFn,M=void 0===C?i:C,I=o.sortFn,z=void 0===I?function(e,t){return e.score-t.score}:I,F=o.tokenize,L=void 0!==F&&F,D=o.matchAllTokens,T=void 0!==D&&D,E=o.includeMatches,O=void 0!==E&&E,A=o.includeScore,P=void 0!==A&&A,R=o.verbose,U=void 0!==R&&R;(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.options={location:r,distance:l,threshold:p,maxPatternLength:u,isCaseSensitive:f,tokenSeparator:m,findAllMatches:v,minMatchCharLength:w,id:x,keys:_,includeMatches:O,includeScore:P,shouldSort:S,getFn:M,sortFn:z,verbose:U,tokenize:L,matchAllTokens:T},this.setCollection(t)}return n(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),o=t.tokenSearchers,n=t.fullSearcher,r=this._search(o,n),i=r.weights,a=r.results;return this._computeScore(i,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var o=e.split(this.options.tokenSeparator),n=0,i=o.length;n<i;n+=1)t.push(new r(o[n],this.options));return{tokenSearchers:t,fullSearcher:new r(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],o=this.list,n={},r=[];if("string"==typeof o[0]){for(var i=0,a=o.length;i<a;i+=1)this._analyze({key:"",value:o[i],record:i,index:i},{resultMap:n,results:r,tokenSearchers:e,fullSearcher:t});return{weights:null,results:r}}for(var l={},s=0,p=o.length;s<p;s+=1)for(var d=o[s],u=0,c=this.options.keys.length;u<c;u+=1){var f=this.options.keys[u];if("string"!=typeof f){if(l[f.name]={weight:1-f.weight||1},f.weight<=0||f.weight>1)throw new Error("Key weight has to be > 0 and <= 1");f=f.name}else l[f]={weight:1};this._analyze({key:f,value:this.options.getFn(d,f),record:d,index:s},{resultMap:n,results:r,tokenSearchers:e,fullSearcher:t})}return{weights:l,results:r}}},{key:"_analyze",value:function(e,t){var o=e.key,n=e.arrayIndex,r=void 0===n?-1:n,i=e.value,l=e.record,s=e.index,p=t.tokenSearchers,d=void 0===p?[]:p,u=t.fullSearcher,c=void 0===u?[]:u,f=t.resultMap,h=void 0===f?{}:f,m=t.results,g=void 0===m?[]:m;if(null!=i){var v=!1,b=-1,w=0;if("string"==typeof i){this._log("\nKey: "+(""===o?"-":o));var y=c.search(i);if(this._log('Full text: "'+i+'", score: '+y.score),this.options.tokenize){for(var x=i.split(this.options.tokenSeparator),k=[],_=0;_<d.length;_+=1){var $=d[_];this._log('\nPattern: "'+$.pattern+'"');for(var S=!1,C=0;C<x.length;C+=1){var M=x[C],I=$.search(M),z={};I.isMatch?(z[M]=I.score,v=!0,S=!0,k.push(I.score)):(z[M]=1,this.options.matchAllTokens||k.push(1)),this._log('Token: "'+M+'", score: '+z[M])}S&&(w+=1)}b=k[0];for(var F=k.length,L=1;L<F;L+=1)b+=k[L];b/=F,this._log("Token score average:",b)}var D=y.score;b>-1&&(D=(D+b)/2),this._log("Score average:",D);var T=!this.options.tokenize||!this.options.matchAllTokens||w>=d.length;if(this._log("\nCheck Matches: "+T),(v||y.isMatch)&&T){var E=h[s];E?E.output.push({key:o,arrayIndex:r,value:i,score:D,matchedIndices:y.matchedIndices}):(h[s]={item:l,output:[{key:o,arrayIndex:r,value:i,score:D,matchedIndices:y.matchedIndices}]},g.push(h[s]))}}else if(a(i))for(var O=0,A=i.length;O<A;O+=1)this._analyze({key:o,arrayIndex:O,value:i[O],record:l,index:s},{resultMap:h,results:g,tokenSearchers:d,fullSearcher:c})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var o=0,n=t.length;o<n;o+=1){for(var r=t[o].output,i=r.length,a=1,l=1,s=0;s<i;s+=1){var p=e?e[r[s].key].weight:1,d=(1===p?r[s].score:r[s].score||.001)*p;1!==p?l=Math.min(l,d):(r[s].nScore=d,a*=d)}t[o].score=1===l?a:l,this._log(t[o])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this.options.verbose&&this._log("\n\nOutput:\n\n",JSON.stringify(e));var o=[];this.options.includeMatches&&o.push((function(e,t){var o=e.output;t.matches=[];for(var n=0,r=o.length;n<r;n+=1){var i=o[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}})),this.options.includeScore&&o.push((function(e,t){t.score=e.score}));for(var n=0,r=e.length;n<r;n+=1){var i=e[n];if(this.options.id&&(i.item=this.options.getFn(i.item,this.options.id)[0]),o.length){for(var a={item:i.item},l=0,s=o.length;l<s;l+=1)o[l](i,a);t.push(a)}else t.push(i.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=l}])},"object"==l(t)&&"object"==l(e)?e.exports=a():(r=[],void 0===(i="function"==typeof(n=a)?n.apply(t,r):n)||(e.exports=i))},8894:function(e){!function(t){var o,n={},r={16:!1,18:!1,17:!1,91:!1},i="all",a={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,command:91},l={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},s=function(e){return l[e]||e.toUpperCase().charCodeAt(0)},p=[];for(o=1;o<20;o++)l["f"+o]=111+o;function d(e,t){for(var o=e.length;o--;)if(e[o]===t)return o;return-1}function u(e,t){if(e.length!=t.length)return!1;for(var o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}var c={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function f(e){for(o in r)r[o]=e[c[o]]}function h(e,t,o){var r,i;r=g(e),void 0===o&&(o=t,t="all");for(var a=0;a<r.length;a++)i=[],(e=r[a].split("+")).length>1&&(i=v(e),e=[e[e.length-1]]),e=e[0],(e=s(e))in n||(n[e]=[]),n[e].push({shortcut:r[a],scope:t,method:o,key:r[a],mods:i})}for(o in a)h[o]=!1;function m(){return i||"all"}function g(e){var t;return""==(t=(e=e.replace(/\s/g,"")).split(","))[t.length-1]&&(t[t.length-2]+=","),t}function v(e){for(var t=e.slice(0,e.length-1),o=0;o<t.length;o++)t[o]=a[t[o]];return t}function b(e,t,o){e.addEventListener?e.addEventListener(t,o,!1):e.attachEvent&&e.attachEvent("on"+t,(function(){o(window.event)}))}b(document,"keydown",(function(e){!function(e){var t,o,i,l,s,u;if(t=e.keyCode,-1==d(p,t)&&p.push(t),93!=t&&224!=t||(t=91),t in r)for(i in r[t]=!0,a)a[i]==t&&(h[i]=!0);else if(f(e),h.filter.call(this,e)&&t in n)for(u=m(),l=0;l<n[t].length;l++)if((o=n[t][l]).scope==u||"all"==o.scope){for(i in s=o.mods.length>0,r)(!r[i]&&d(o.mods,+i)>-1||r[i]&&-1==d(o.mods,+i))&&(s=!1);(0!=o.mods.length||r[16]||r[18]||r[17]||r[91])&&!s||!1===o.method(e,o)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(e)})),b(document,"keyup",(function(e){var t,o=e.keyCode,n=d(p,o);if(n>=0&&p.splice(n,1),93!=o&&224!=o||(o=91),o in r)for(t in r[o]=!1,a)a[t]==o&&(h[t]=!1)})),b(window,"focus",(function(){for(o in r)r[o]=!1;for(o in a)h[o]=!1}));var w=t.key;t.key=h,t.key.setScope=function(e){i=e||"all"},t.key.getScope=m,t.key.deleteScope=function(e){var t,o,r;for(t in n)for(o=n[t],r=0;r<o.length;)o[r].scope===e?o.splice(r,1):r++},t.key.filter=function(e){var t=(e.target||e.srcElement).tagName;return!("INPUT"==t||"SELECT"==t||"TEXTAREA"==t)},t.key.isPressed=function(e){return"string"==typeof e&&(e=s(e)),-1!=d(p,e)},t.key.getPressedKeyCodes=function(){return p.slice(0)},t.key.noConflict=function(){var e=t.key;return t.key=w,e},t.key.unbind=function(e,t){var o,r,i,a,l,p=[];for(o=g(e),a=0;a<o.length;a++){if((r=o[a].split("+")).length>1&&(p=v(r)),e=r[r.length-1],e=s(e),void 0===t&&(t=m()),!n[e])return;for(i=0;i<n[e].length;i++)(l=n[e][i]).scope===t&&u(l.mods,p)&&(n[e][i]={})}},e.exports=h}(this)},644:()=>{window.LivewireModal=function(){return{show:!1,loading:!1,container:".volt-modal-dimmer",activeModal:null,modalStack:[],init:function(){var e=this;this.$watch("show",(function(t){t||(e.activeModal=null)})),Livewire.on("openModal",(function(t){e.show=!0,e.loading=!0,e.activeModal=t})),Livewire.on("closeModal",(function(t){e.close(t)})),Livewire.hook("message.failed",(function(t,o){e.loading=!1,e.activeModal=e.modalStack.at(-1),e.show=void 0!==e.activeModal})),Livewire.on("activeModalChanged",(function(t){e.activeModal=t,e.modalStack.push(t),e.loading=!1,setTimeout((function(){e.$refs[t].classList.remove("transition","scale","in")}),300)}))},close:function(){for(var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,o=[],n=0;n<t;n++){var r=this.modalStack.pop();Livewire.emit("modalClosed",r),o.push(r)}o.forEach((function(t,o){var n=o>0;if(void 0===e.$refs[t])return!1;if(0===e.modalStack.length){if(n)return void(e.show=!1);e.$refs[t].classList.add("transition","scale","out"),setTimeout((function(){e.$refs[t].classList.remove("transition","scale","out"),e.show=!1}),300)}else{if(n)return;e.$refs[t].classList.add("transition","scale","out"),setTimeout((function(){e.$refs[t].classList.remove("transition","scale","out")}),300)}})),this.modalStack.length>0&&(this.activeModal=this.modalStack.at(-1),this.$refs[this.activeModal].classList.add("transition","scale","in"),setTimeout((function(){e.$refs[e.activeModal].classList.remove("transition","scale","in")}),300))}}}},411:(e,t,o)=>{var n=o(9755);n((function(){n('[data-role="quick-menu-searchbox"]').on("keyup",(function(e){var t=n(e.currentTarget).val();if(n('[data-role="quick-menu-searchbox"]').val(t),n('[data-role="quick-menu"] .items').html(""),""==t)n('[data-role="original-menu"]').show();else{n('[data-role="original-menu"]').hide();var o=[];n('[data-role="original-menu"] a').each((function(e,t){o.push({text:n(t).html(),url:n(t).attr("href")})}));var r=new Fuse(o,{tokenize:!0,threshold:.5,keys:["text"]}).search(t),i="";for(var a in r){var l=r[a];i+="<a class='title' href='"+l.url+"'>"+l.text+"</a>"}n('[data-role="quick-menu"] .items').append(i)}}));var e=n('[data-role="quick-switcher-dropdown"]');n('[data-role="original-menu"] a').each((function(t,o){var r=n(o).data("parent"),i=n(o).html();r&&(i+='<div class="ui mini label right floated">'+r+"</div>");var a=n("<option>").attr("value",n(o).attr("href")).html(i);e.append(a)})),e.dropdown({fullTextSearch:!0,forceSelection:!1,selectOnKeydown:!1,match:"text",action:function(e,t){window.location.href=t}})}))},9208:(e,t,o)=>{var n=o(9755);n((function(){var e,t,o,r,i=n('[data-role="sidebar"] .sidebar__scroller');if(i.length>0){new SimpleBar(i[0]);var a=n('[data-role="sidebar-visibility-switcher"]');a.length>0&&a.on("click",(function(){i.parent().toggleClass("show")})),n(document).click((function(e){n("nav.sidebar").hasClass("show")&&(n(e.target).closest("nav.sidebar").length||n(e.target).closest('[data-role="sidebar-visibility-switcher"]').length||n("nav.sidebar").removeClass("show"))})),n("#sidebar .simplebar-scroll-content").scroll((e=function(){n("#sidebar").data("scroll",n("#sidebar .simplebar-scroll-content").scrollTop())},t=500,function(){var n=this,i=arguments,a=function(){r=null,o||e.apply(n,i)},l=o&&!r;clearTimeout(r),r=setTimeout(a,t),l&&e.apply(n,i)}))}n('[data-role="sidebar-accordion"]').accordion({selector:{trigger:".title:not(.empty)"}}),n("#sidebar").on("click","a.item, a.title.empty",(function(e){n(e.delegateTarget).find(".selected").removeClass("selected"),n(this).addClass("selected")}))}))},3625:(e,t,o)=>{var n=o(9755),r=o(9755);function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var o=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==o)return;var n,r,i=[],a=!0,l=!1;try{for(o=o.call(e);!(a=(n=o.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){l=!0,r=e}finally{try{a||null==o.return||o.return()}finally{if(l)throw r}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var o=Object.prototype.toString.call(e).slice(8,-1);"Object"===o&&e.constructor&&(o=e.constructor.name);if("Map"===o||"Set"===o)return Array.from(e);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,o,a;return t=e,a=[{key:"init",value:function(e){e.find("table.unstackable.responsive").basictable(),e.find(".ui.checkbox").checkbox(),e.find(".ui.dropdown:not(.simple):not(.tag)").each((function(){var e=n(this),t={forceSelection:!1,selectOnKeydown:!1,fullTextSearch:!0,action:void 0!==e.data("action")?e.data("action"):"activate"};if(n(this).hasClass("link")&&(t.onChange=function(e,t,o){window.location.href=e}),n(this).data("ajax")){e.data("api");var o=e.data("payload"),r=e.data("token");t.minCharacters=2,t.apiSettings={url:e.data("api")+"?term={query}",method:"post",data:{payload:o,_token:r}}}n(this).dropdown(t)})),e.find(".ui.dropdown.tag:not(.simple)").each((function(){var e=!1;if(n(this).data("value")){var t=n(this).data("value").toString().split(",");1==t.length&&""==t[0]||(e=t)}n(this).dropdown({forceSelection:!1,allowAdditions:!0,fullTextSearch:!0,selectOnKeydown:!1}).dropdown("set selected",e)})),n.fn.destroyDropdown=function(){return n(this).each((function(){n(this).parent().dropdown("destroy").replaceWith(n(this).addClass(n(this).data("class")))}))};var t=[],o=[];e.find("select[data-depend-on]").each((function(e,r){var i=n(r),a=i.data("depend-on"),l=n("[name="+a+"]");"SELECT"==l.prop("tagName")?(void 0===t[a]&&(t[a]=[]),t[a].push(i)):"INPUT"==l.prop("tagName")&&(void 0===o[a]&&(o[a]=[]),o[a].push(i))}));for(var a=function(){var e=p[s],o=n("[name="+e+"]"),i=t[e];o.destroyDropdown(),o.dropdown({forceSelection:!1,selectOnKeydown:!1,fullTextSearch:"exact",onChange:function(e,t,o){r.each(i,(function(t,o){if(e){var n=o.data("api"),r=o.data("payload"),i=o.data("token");o.api({url:n,method:"post",data:{term:e,payload:r,_token:i},on:"now",beforeSend:function(e){return o.dropdown("clear"),o.parent().addClass("loading"),e},onSuccess:function(e,t,n){var r=e.results;o.dropdown("change values",r)},onComplete:function(e,t,n){o.parent().removeClass("loading")},onError:function(e,t,o){void 0!==o.responseJSON.exception?alert(o.responseJSON.exception+" in "+o.responseJSON.file+" line "+o.responseJSON.line+": "+o.responseJSON.message):alert("Something goes wrong with DropdownDB, but APP_DEBUG off. See application log (usually in storage/logs/laravel.log) for complete error message.")}})}else o.dropdown("clear"),o.dropdown("setup menu",{values:[]})}))}})},s=0,p=Object.keys(t);s<p.length;s++)a();for(var d=function(){var t=c[u],i=e.find("[name="+t+"]"),a=o[t];i.on("change",(function(e){var t=n(e.currentTarget).val();r.each(a,(function(e,o){if(t){var n=o.data("api"),r=o.data("payload"),i=o.data("token");o.api({url:n,method:"post",data:{term:t,payload:r,_token:i},on:"now",beforeSend:function(e){return o.dropdown("clear"),o.parent().addClass("loading"),e},onSuccess:function(e,t,n){var r=e.results;o.dropdown("change values",r),1==r.length&&o.dropdown("set selected",r[0].value)},onComplete:function(e,t,n){o.parent().removeClass("loading")}})}else o.dropdown("clear"),o.dropdown("setup menu",{values:[]})}))})),i.val()&&i.trigger("change")},u=0,c=Object.keys(o);u<c.length;u++)d();e.find('.checkbox[data-toggle="checkall"]').each((function(){var e=n(this),t=n(document).find(e.data("selector"));n(document).find(e.data("storage")),e.checkbox({onChecked:function(){t.checkbox("check")},onUnchecked:function(){t.checkbox("uncheck")}}),t.checkbox({fireOnInit:!0,onChange:function(){var o=e,r=!0,i=!0,a=[];t.each((function(){n(this).checkbox("is checked")?(i=!1,a.push(n(this).children().first().val())):r=!1})),o.val(JSON.stringify(a)).trigger("change"),r?o.checkbox("set checked"):i?o.checkbox("set unchecked"):o.checkbox("set indeterminate")}})})),e.find(".ui.input.calendar").each((function(e,t){var o=n(t),r=o.data("calendar-type");r||(r="date");var i=o.data("calendar-format");i||(i="YYYY-MM-DD"),o.calendar({type:r,ampm:!1,selectAdjacentDays:!0,onSelect:function(e,o){t.querySelector("input").dispatchEvent(new Event("input"))},formatter:{date:function(e,t){if(!e)return"";var o=e.getHours(),n=e.getMinutes(),r=e.getSeconds(),a=e.getDate(),l=("0"+e.getDate()).slice(-2),s=l,p=e.getMonth()+1,d=("0"+(e.getMonth()+1)).slice(-2),u=d,c=t.text.months[e.getMonth()],f=t.text.monthsShort[e.getMonth()],h=e.getFullYear().toString().substr(2,2),m=e.getFullYear(),g=e.getFullYear(),v=i.replace("h",o).replace("i",n).replace("s",r).replace("j",a).replace("d",s).replace("n",p).replace("m",u).replace("DD",l).replace("YYYY",g).replace("YY",h).replace("Y",m),b={MMMM:c,MMM:f,MM:d,M:f},w=i;for(var y in b)w.includes(y)&&(v=v.replace(y,b[y]),w=w.replace(y,""));return v}}})})),e.find("input[type=file].uploader").each((function(e,t){var o=n(t).data("extensions");o=o?o.split(","):null;var r=null;n(t).data("media-url")&&(r={url:n(t).data("media-url"),data:{_token:n(t).data("token"),_key:n(t).attr("name"),_action:"upload"},type:"POST",enctype:"multipart/form-data",start:!0,synchron:!0,chunk:!1,onSuccess:function(e,t,o,n,r,i,a,l){var s;return e.success&&e.files[0]?(t.data.id=null!==(s=e.files[0].data.id)&&void 0!==s?s:null,t.local=e.files[0].file,t.html.find(".fileuploader-action-remove").addClass("fileuploader-action-success"),setTimeout((function(){t.html.find(".progress-bar2").fadeOut(400)}),400),!0):this.onError(t,o,n,r,i,l,a,e.message)},onError:function(e,t,o,n,r,i,a,l){var s=e.html.find(".progress-bar2");s.length>0&&(s.find("span").html("0%"),s.find(".fileuploader-progressbar .bar").width("0%"),e.html.find(".progress-bar2").fadeOut(400)),"cancelled"!==e.upload.status&&0===e.html.find(".fileuploader-action-retry").length&&e.html.find(".column-actions").prepend('<a class="fileuploader-action fileuploader-action-retry" title="Retry"><i></i></a>'),alert(l+". Try again later.")},onProgress:function(e,t,o,n,r,i){var a=t.html.find(".progress-bar2");a.length>0&&(a.show(),a.find("span").html(e.percentage+"%"),a.find(".fileuploader-progressbar .bar").width(e.percentage+"%"))},onComplete:function(e,t,o,n,r,i){}}),n(t).fileuploader({theme:"simple",limit:n(t).data("limit"),fileMaxSize:n(t).data("file-max-size"),extensions:o,addMore:!0,upload:r,onRemove:function(e){return void 0===e.data.id||n(t).data("media-url")&&n.post(n(t).data("media-url"),{_token:n(t).data("token"),_action:"delete",id:e.data.id}),!0},changeInput:'<div class="fileuploader-input"><div class="fileuploader-input-inner"><div><span>${captions.browse}</span></div></div></div>',captions:{browse:"Browse or drop files here"},thumbnails:{removeConfirmation:!1}})})),"function"==typeof AutoNumeric&&n('input[data-role="rupiah"]').length>0&&AutoNumeric.multiple('input[data-role="rupiah"]',{currencySymbol:"",decimalCharacter:",",digitGroupSeparator:".",decimalPlaces:0,unformatOnSubmit:!0}),"object"===("undefined"==typeof google?"undefined":l(google))&&"object"===l(google.maps)&&e.find("[data-form-coordinate]").each((function(){var e,t,o=n(this),r=i(o.val().split(","),2);t=(t=r[0])||-7.451808,e=(e=r[1])||111.035929;var a=n("<div>").css("width","100%").css("height",300).css("border-radius",4).css("margin-top","5px");a.insertAfter(n(this));var l=new google.maps.LatLng(t,e),s={zoom:17,center:l,mapTypeId:google.maps.MapTypeId.ROADMAP},p=n(this).is("[disabled]");p&&n.extend(s,{gestureHandling:"none",zoomControl:!1});var d=new google.maps.Map(a[0],s),u=new google.maps.Marker({position:l,map:d,draggable:!p});google.maps.event.addListener(u,"drag",(function(){o.val(u.position.lat()+","+u.position.lng())}))}))}}],(o=null)&&s(t.prototype,o),a&&s(t,a),Object.defineProperty(t,"prototype",{writable:!1}),e}();"1"===n('meta[name="turbolinks-enabled"]').attr("content")?(window.Turbolinks.start(),n(document).on("turbolinks:load",(function(){p.init(n("body"))})),n(document).on("turbolinks:render",(function(e){n("#sidebar .simplebar-scroll-content").scrollTop(n("#sidebar").data("scroll"))}))):n(document).on("DOMContentLoaded",(function(){p.init(n("body"))}));window.addEventListener("laravolt.toast",(function(e){n("body").toast(JSON.parse(e.detail))})),"undefined"!=typeof Livewire&&Livewire.hook("message.processed",(function(e,t){p.init(n('[wire\\:id="'+t.id+'"]'))}))},3486:(e,t,o)=>{"use strict";var n=o(9755),r=o.n(n),i=o(9302),a=o(9222),l=o.n(a),s=o(2918),p=o.n(s),d=o(6799),u=o.n(d);o(952),o(1875),o(8894),o(2952),o(644),o(9208),o(3625),o(411),o(9755),o(9755);window.$=window.jquery=r(),window.simplebar=i.Z,window.autoNumeric=l(),window.Fuse=u(),window.Turbolinks=p()},7343:()=>{}},e=>{var t=t=>e(e.s=t);e.O(0,[143,660],(()=>(t(3486),t(7343))));e.O()}]);